DROP DATABASE IF EXISTS issue781_test;
CREATE DATABASE issue781_test;
USE issue781_test;
DROP TABLE IF EXISTS cs1;
DROP TABLE IF EXISTS cs2;
CREATE TABLE cs1 (d1 int, d2 int) ENGINE=TIANMU;
CREATE TABLE cs2 (d1 int, d2 int) ENGINE=TIANMU;
INSERT INTO cs1 VALUES (125, 125);
INSERT INTO cs1 VALUES (-125, -125);
INSERT INTO cs1 VALUES (77, 55);
INSERT INTO cs1 VALUES (33, 66);
INSERT INTO cs1 VALUES (99998, 998);
INSERT INTO cs1 VALUES (99999, 999);
INSERT INTO cs2 VALUES (125, 125);
INSERT INTO cs2 VALUES (-125, -125);
INSERT INTO cs2 VALUES (77, 55);
INSERT INTO cs2 VALUES (33, 66);
INSERT INTO cs2 VALUES (99998, 998);
INSERT INTO cs2 VALUES (99999, 999);
SELECT * FROM cs1;
d1	d2
125	125
-125	-125
77	55
33	66
99998	998
99999	999
UPDATE cs1 SET d1=888, d2=777 WHERE d1 IN (125, 99999);
SELECT * FROM cs1;
d1	d2
888	777
-125	-125
77	55
33	66
99998	998
888	777
UPDATE cs1 SET d1=888, d2=777 WHERE d1 NOT IN (125, 99999);
SELECT * FROM cs1;
d1	d2
888	777
888	777
888	777
888	777
888	777
888	777
DELETE FROM cs1;
INSERT INTO cs1 VALUES (125, 125);
INSERT INTO cs1 VALUES (-125, -125);
INSERT INTO cs1 VALUES (77, 55);
INSERT INTO cs1 VALUES (33, 66);
INSERT INTO cs1 VALUES (99998, 998);
INSERT INTO cs1 VALUES (99999, 999);
UPDATE cs1 SET d1=888, d2=777 WHERE d1 IN (99998);
SELECT * FROM cs1;
d1	d2
125	125
-125	-125
77	55
33	66
888	777
99999	999
UPDATE cs1 SET d1=888, d2=777 WHERE d1 NOT IN (99998);
SELECT * FROM cs1;
d1	d2
888	777
888	777
888	777
888	777
888	777
888	777
DELETE FROM cs1;
INSERT INTO cs1 VALUES (125, 125);
INSERT INTO cs1 VALUES (-125, -125);
INSERT INTO cs1 VALUES (77, 55);
INSERT INTO cs1 VALUES (33, 66);
INSERT INTO cs1 VALUES (99998, 998);
INSERT INTO cs1 VALUES (99999, 999);
UPDATE cs1 SET d1=999, d2=777 WHERE d1 = 99998;
SELECT * FROM cs1;
d1	d2
125	125
-125	-125
77	55
33	66
999	777
99999	999
UPDATE cs1 SET d1=999, d2=777 WHERE d1 != 99998;
SELECT * FROM cs1;
d1	d2
999	777
999	777
999	777
999	777
999	777
999	777
DELETE FROM cs1;
INSERT INTO cs1 VALUES (125, 125);
INSERT INTO cs1 VALUES (-125, -125);
INSERT INTO cs1 VALUES (77, 55);
INSERT INTO cs1 VALUES (33, 66);
INSERT INTO cs1 VALUES (99998, 998);
INSERT INTO cs1 VALUES (99999, 999);
DELETE FROM cs2;
INSERT INTO cs2 VALUES (125, 125);
INSERT INTO cs2 VALUES (-125, -125);
INSERT INTO cs2 VALUES (77, 55);
INSERT INTO cs2 VALUES (33, 66);
INSERT INTO cs2 VALUES (99998, 998);
INSERT INTO cs2 VALUES (99999, 999);
UPDATE cs1 SET d1=999, d2=777 WHERE EXISTS (SELECT 1 from cs2 WHERE d1 IN (33, 77) ) LIMIT 1;
SELECT * FROM cs1;
d1	d2
999	777
-125	-125
77	55
33	66
99998	998
99999	999
DELETE FROM cs1;
INSERT INTO cs1 VALUES (125, 125);
INSERT INTO cs1 VALUES (-125, -125);
INSERT INTO cs1 VALUES (77, 55);
INSERT INTO cs1 VALUES (33, 66);
INSERT INTO cs1 VALUES (99998, 998);
INSERT INTO cs1 VALUES (99999, 999);
DELETE FROM cs2;
INSERT INTO cs2 VALUES (125, 125);
INSERT INTO cs2 VALUES (-125, -125);
INSERT INTO cs2 VALUES (77, 55);
INSERT INTO cs2 VALUES (33, 66);
INSERT INTO cs2 VALUES (99998, 998);
INSERT INTO cs2 VALUES (99999, 999);
UPDATE cs1 SET d1=999, d2=777 WHERE NOT EXISTS (SELECT 1 from cs2 WHERE d1 IN (330, 770) ) LIMIT 1;
SELECT * FROM cs1;
d1	d2
999	777
-125	-125
77	55
33	66
99998	998
99999	999
DELETE FROM cs1;
INSERT INTO cs1 VALUES (125, 125);
INSERT INTO cs1 VALUES (-125, -125);
INSERT INTO cs1 VALUES (77, 55);
INSERT INTO cs1 VALUES (33, 66);
INSERT INTO cs1 VALUES (99998, 998);
INSERT INTO cs1 VALUES (99999, 999);
DELETE FROM cs2;
INSERT INTO cs2 VALUES (125, 125);
INSERT INTO cs2 VALUES (-125, -125);
INSERT INTO cs2 VALUES (77, 55);
INSERT INTO cs2 VALUES (33, 66);
INSERT INTO cs2 VALUES (99998, 998);
INSERT INTO cs2 VALUES (99999, 999);
UPDATE cs1 SET d1=999, d2=777 WHERE EXISTS (SELECT 1 from cs2 WHERE d1 NOT IN (33, 77) ) LIMIT 1;
SELECT * FROM cs1;
d1	d2
999	777
-125	-125
77	55
33	66
99998	998
99999	999
DELETE FROM cs1;
INSERT INTO cs1 VALUES (125, 125);
INSERT INTO cs1 VALUES (-125, -125);
INSERT INTO cs1 VALUES (77, 55);
INSERT INTO cs1 VALUES (33, 66);
INSERT INTO cs1 VALUES (99998, 998);
INSERT INTO cs1 VALUES (99999, 999);
DELETE FROM cs2;
INSERT INTO cs2 VALUES (125, 125);
INSERT INTO cs2 VALUES (-125, -125);
INSERT INTO cs2 VALUES (77, 55);
INSERT INTO cs2 VALUES (33, 66);
INSERT INTO cs2 VALUES (99998, 998);
INSERT INTO cs2 VALUES (99999, 999);
UPDATE cs1 SET d1=999, d2=777 WHERE EXISTS (SELECT 1 from cs2 WHERE d1 IN (33) ) LIMIT 1;
SELECT * FROM cs1;
d1	d2
999	777
-125	-125
77	55
33	66
99998	998
99999	999
DELETE FROM cs1;
INSERT INTO cs1 VALUES (125, 125);
INSERT INTO cs1 VALUES (-125, -125);
INSERT INTO cs1 VALUES (77, 55);
INSERT INTO cs1 VALUES (33, 66);
INSERT INTO cs1 VALUES (99998, 998);
INSERT INTO cs1 VALUES (99999, 999);
DELETE FROM cs2;
INSERT INTO cs2 VALUES (125, 125);
INSERT INTO cs2 VALUES (-125, -125);
INSERT INTO cs2 VALUES (77, 55);
INSERT INTO cs2 VALUES (33, 66);
INSERT INTO cs2 VALUES (99998, 998);
INSERT INTO cs2 VALUES (99999, 999);
UPDATE cs1 SET d1=999, d2=777 WHERE NOT EXISTS (SELECT 1 from cs2 WHERE d1 IN (330) ) LIMIT 1;
SELECT * FROM cs1;
d1	d2
999	777
-125	-125
77	55
33	66
99998	998
99999	999
DELETE FROM cs1;
INSERT INTO cs1 VALUES (125, 125);
INSERT INTO cs1 VALUES (-125, -125);
INSERT INTO cs1 VALUES (77, 55);
INSERT INTO cs1 VALUES (33, 66);
INSERT INTO cs1 VALUES (99998, 998);
INSERT INTO cs1 VALUES (99999, 999);
DELETE FROM cs2;
INSERT INTO cs2 VALUES (125, 125);
INSERT INTO cs2 VALUES (-125, -125);
INSERT INTO cs2 VALUES (77, 55);
INSERT INTO cs2 VALUES (33, 66);
INSERT INTO cs2 VALUES (99998, 998);
INSERT INTO cs2 VALUES (99999, 999);
UPDATE cs1 SET d1=999, d2=777 WHERE EXISTS (SELECT 1 from cs2 WHERE d1 NOT IN (33) ) LIMIT 1;
SELECT * FROM cs1;
d1	d2
999	777
-125	-125
77	55
33	66
99998	998
99999	999
DELETE FROM cs1;
INSERT INTO cs1 VALUES (125, 125);
INSERT INTO cs1 VALUES (-125, -125);
INSERT INTO cs1 VALUES (77, 55);
INSERT INTO cs1 VALUES (33, 66);
INSERT INTO cs1 VALUES (99998, 998);
INSERT INTO cs1 VALUES (99999, 999);
DELETE FROM cs1 WHERE d1 IN (77, 999);
SELECT * FROM cs1;
d1	d2
125	125
-125	-125
33	66
99998	998
99999	999
DELETE FROM cs1 WHERE d1 NOT IN (77, 999);
SELECT * FROM cs1;
d1	d2
DELETE FROM cs1;
INSERT INTO cs1 VALUES (125, 125);
INSERT INTO cs1 VALUES (-125, -125);
INSERT INTO cs1 VALUES (77, 55);
INSERT INTO cs1 VALUES (33, 66);
INSERT INTO cs1 VALUES (99998, 998);
INSERT INTO cs1 VALUES (99999, 999);
DELETE FROM cs1 WHERE d1 IN (-125);
SELECT * FROM cs1;
d1	d2
125	125
77	55
33	66
99998	998
99999	999
DELETE FROM cs1 WHERE d1 NOT IN (-125);
SELECT * FROM cs1;
d1	d2
DELETE FROM cs1;
INSERT INTO cs1 VALUES (125, 125);
INSERT INTO cs1 VALUES (-125, -125);
INSERT INTO cs1 VALUES (77, 55);
INSERT INTO cs1 VALUES (33, 66);
INSERT INTO cs1 VALUES (99998, 998);
INSERT INTO cs1 VALUES (99999, 999);
DELETE FROM cs1 WHERE d1 = 33;
SELECT * FROM cs1;
d1	d2
125	125
-125	-125
77	55
99998	998
99999	999
DELETE FROM cs1 WHERE d1 != 33;
SELECT * FROM cs1;
d1	d2
DROP TABLE cs1;
DROP TABLE cs2;
DROP TABLE IF EXISTS cs1;
DROP TABLE IF EXISTS cs2;
CREATE TABLE cs1 (d1 INT PRIMARY KEY, d2 INT) ENGINE=TIANMU;
CREATE TABLE cs2 (d1 INT PRIMARY KEY, d2 INT) ENGINE=TIANMU;
INSERT INTO cs1 VALUES (125, 125);
INSERT INTO cs1 VALUES (-125, -125);
INSERT INTO cs1 VALUES (77, 55);
INSERT INTO cs1 VALUES (33, 66);
INSERT INTO cs1 VALUES (99998, 998);
INSERT INTO cs1 VALUES (99999, 999);
INSERT INTO cs2 VALUES (125, 125);
INSERT INTO cs2 VALUES (-125, -125);
INSERT INTO cs2 VALUES (77, 55);
INSERT INTO cs2 VALUES (33, 66);
INSERT INTO cs2 VALUES (99998, 998);
INSERT INTO cs2 VALUES (99999, 999);
SELECT * FROM cs1;
d1	d2
125	125
-125	-125
77	55
33	66
99998	998
99999	999
UPDATE cs1 SET d1=888, d2=777 WHERE d1 IN (125, 99999) LIMIT 1;
SELECT * FROM cs1;
d1	d2
888	777
-125	-125
77	55
33	66
99998	998
99999	999
UPDATE cs1 SET d1=888, d2=777 WHERE d1 NOT IN (125, 99999) LIMIT 1;
SELECT * FROM cs1;
d1	d2
888	777
-125	-125
77	55
33	66
99998	998
99999	999
DELETE FROM cs1;
INSERT INTO cs1 VALUES (125, 125);
INSERT INTO cs1 VALUES (-125, -125);
INSERT INTO cs1 VALUES (77, 55);
INSERT INTO cs1 VALUES (33, 66);
INSERT INTO cs1 VALUES (99998, 998);
INSERT INTO cs1 VALUES (99999, 999);
UPDATE cs1 SET d1=888, d2=777 WHERE d1 IN (99998) LIMIT 1;
SELECT * FROM cs1;
d1	d2
125	125
-125	-125
77	55
33	66
888	777
99999	999
UPDATE cs1 SET d1=658, d2=785 WHERE d1 NOT IN (99998) LIMIT 1;
SELECT * FROM cs1;
d1	d2
658	785
-125	-125
77	55
33	66
888	777
99999	999
DELETE FROM cs1;
INSERT INTO cs1 VALUES (125, 125);
INSERT INTO cs1 VALUES (-125, -125);
INSERT INTO cs1 VALUES (77, 55);
INSERT INTO cs1 VALUES (33, 66);
INSERT INTO cs1 VALUES (99998, 998);
INSERT INTO cs1 VALUES (99999, 999);
UPDATE cs1 SET d1=999, d2=777 WHERE d1 = 99998 LIMIT 1;
SELECT * FROM cs1;
d1	d2
125	125
-125	-125
77	55
33	66
999	777
99999	999
UPDATE cs1 SET d1=4587, d2=2456 WHERE d1 != 99998 LIMIT 1;
SELECT * FROM cs1;
d1	d2
4587	2456
-125	-125
77	55
33	66
999	777
99999	999
DELETE FROM cs1;
INSERT INTO cs1 VALUES (125, 125);
INSERT INTO cs1 VALUES (-125, -125);
INSERT INTO cs1 VALUES (77, 55);
INSERT INTO cs1 VALUES (33, 66);
INSERT INTO cs1 VALUES (99998, 998);
INSERT INTO cs1 VALUES (99999, 999);
DELETE FROM cs2;
INSERT INTO cs2 VALUES (125, 125);
INSERT INTO cs2 VALUES (-125, -125);
INSERT INTO cs2 VALUES (77, 55);
INSERT INTO cs2 VALUES (33, 66);
INSERT INTO cs2 VALUES (99998, 998);
INSERT INTO cs2 VALUES (99999, 999);
UPDATE cs1 SET d1=999, d2=777 WHERE EXISTS (SELECT 1 from cs2 WHERE d1 IN (33, 77) ) LIMIT 1;
SELECT * FROM cs1;
d1	d2
999	777
-125	-125
77	55
33	66
99998	998
99999	999
DELETE FROM cs1;
INSERT INTO cs1 VALUES (125, 125);
INSERT INTO cs1 VALUES (-125, -125);
INSERT INTO cs1 VALUES (77, 55);
INSERT INTO cs1 VALUES (33, 66);
INSERT INTO cs1 VALUES (99998, 998);
INSERT INTO cs1 VALUES (99999, 999);
DELETE FROM cs2;
INSERT INTO cs2 VALUES (125, 125);
INSERT INTO cs2 VALUES (-125, -125);
INSERT INTO cs2 VALUES (77, 55);
INSERT INTO cs2 VALUES (33, 66);
INSERT INTO cs2 VALUES (99998, 998);
INSERT INTO cs2 VALUES (99999, 999);
UPDATE cs1 SET d1=999, d2=777 WHERE NOT EXISTS (SELECT 1 from cs2 WHERE d1 IN (330, 770) ) LIMIT 1;
SELECT * FROM cs1;
d1	d2
999	777
-125	-125
77	55
33	66
99998	998
99999	999
DELETE FROM cs1;
INSERT INTO cs1 VALUES (125, 125);
INSERT INTO cs1 VALUES (-125, -125);
INSERT INTO cs1 VALUES (77, 55);
INSERT INTO cs1 VALUES (33, 66);
INSERT INTO cs1 VALUES (99998, 998);
INSERT INTO cs1 VALUES (99999, 999);
DELETE FROM cs2;
INSERT INTO cs2 VALUES (125, 125);
INSERT INTO cs2 VALUES (-125, -125);
INSERT INTO cs2 VALUES (77, 55);
INSERT INTO cs2 VALUES (33, 66);
INSERT INTO cs2 VALUES (99998, 998);
INSERT INTO cs2 VALUES (99999, 999);
UPDATE cs1 SET d1=999, d2=777 WHERE EXISTS (SELECT 1 from cs2 WHERE d1 NOT IN (33, 77) ) LIMIT 1;
SELECT * FROM cs1;
d1	d2
999	777
-125	-125
77	55
33	66
99998	998
99999	999
DELETE FROM cs1;
INSERT INTO cs1 VALUES (125, 125);
INSERT INTO cs1 VALUES (-125, -125);
INSERT INTO cs1 VALUES (77, 55);
INSERT INTO cs1 VALUES (33, 66);
INSERT INTO cs1 VALUES (99998, 998);
INSERT INTO cs1 VALUES (99999, 999);
DELETE FROM cs2;
INSERT INTO cs2 VALUES (125, 125);
INSERT INTO cs2 VALUES (-125, -125);
INSERT INTO cs2 VALUES (77, 55);
INSERT INTO cs2 VALUES (33, 66);
INSERT INTO cs2 VALUES (99998, 998);
INSERT INTO cs2 VALUES (99999, 999);
UPDATE cs1 SET d1=999, d2=777 WHERE EXISTS (SELECT 1 from cs2 WHERE d1 IN (33) ) LIMIT 1;
SELECT * FROM cs1;
d1	d2
999	777
-125	-125
77	55
33	66
99998	998
99999	999
DELETE FROM cs1;
INSERT INTO cs1 VALUES (125, 125);
INSERT INTO cs1 VALUES (-125, -125);
INSERT INTO cs1 VALUES (77, 55);
INSERT INTO cs1 VALUES (33, 66);
INSERT INTO cs1 VALUES (99998, 998);
INSERT INTO cs1 VALUES (99999, 999);
DELETE FROM cs2;
INSERT INTO cs2 VALUES (125, 125);
INSERT INTO cs2 VALUES (-125, -125);
INSERT INTO cs2 VALUES (77, 55);
INSERT INTO cs2 VALUES (33, 66);
INSERT INTO cs2 VALUES (99998, 998);
INSERT INTO cs2 VALUES (99999, 999);
UPDATE cs1 SET d1=999, d2=777 WHERE NOT EXISTS (SELECT 1 from cs2 WHERE d1 IN (330) ) LIMIT 1;
SELECT * FROM cs1;
d1	d2
999	777
-125	-125
77	55
33	66
99998	998
99999	999
DELETE FROM cs1;
INSERT INTO cs1 VALUES (125, 125);
INSERT INTO cs1 VALUES (-125, -125);
INSERT INTO cs1 VALUES (77, 55);
INSERT INTO cs1 VALUES (33, 66);
INSERT INTO cs1 VALUES (99998, 998);
INSERT INTO cs1 VALUES (99999, 999);
DELETE FROM cs2;
INSERT INTO cs2 VALUES (125, 125);
INSERT INTO cs2 VALUES (-125, -125);
INSERT INTO cs2 VALUES (77, 55);
INSERT INTO cs2 VALUES (33, 66);
INSERT INTO cs2 VALUES (99998, 998);
INSERT INTO cs2 VALUES (99999, 999);
UPDATE cs1 SET d1=999, d2=777 WHERE EXISTS (SELECT 1 from cs2 WHERE d1 NOT IN (33) ) LIMIT 1;
SELECT * FROM cs1;
d1	d2
999	777
-125	-125
77	55
33	66
99998	998
99999	999
DELETE FROM cs1;
INSERT INTO cs1 VALUES (125, 125);
INSERT INTO cs1 VALUES (-125, -125);
INSERT INTO cs1 VALUES (77, 55);
INSERT INTO cs1 VALUES (33, 66);
INSERT INTO cs1 VALUES (99998, 998);
INSERT INTO cs1 VALUES (99999, 999);
DELETE FROM cs1 WHERE d1 IN (77, 999) LIMIT 1;
SELECT * FROM cs1;
d1	d2
125	125
-125	-125
33	66
99998	998
99999	999
DELETE FROM cs1 WHERE d1 NOT IN (77, 999) LIMIT 1;
SELECT * FROM cs1;
d1	d2
-125	-125
33	66
99998	998
99999	999
DELETE FROM cs1;
INSERT INTO cs1 VALUES (125, 125);
INSERT INTO cs1 VALUES (-125, -125);
INSERT INTO cs1 VALUES (77, 55);
INSERT INTO cs1 VALUES (33, 66);
INSERT INTO cs1 VALUES (99998, 998);
INSERT INTO cs1 VALUES (99999, 999);
DELETE FROM cs1 WHERE d1 IN (-125) LIMIT 1;
SELECT * FROM cs1;
d1	d2
125	125
77	55
33	66
99998	998
99999	999
DELETE FROM cs1 WHERE d1 NOT IN (-125) LIMIT 1;
SELECT * FROM cs1;
d1	d2
77	55
33	66
99998	998
99999	999
DELETE FROM cs1;
INSERT INTO cs1 VALUES (125, 125);
INSERT INTO cs1 VALUES (-125, -125);
INSERT INTO cs1 VALUES (77, 55);
INSERT INTO cs1 VALUES (33, 66);
INSERT INTO cs1 VALUES (99998, 998);
INSERT INTO cs1 VALUES (99999, 999);
DELETE FROM cs1 WHERE d1 = 33;
SELECT * FROM cs1;
d1	d2
125	125
-125	-125
77	55
99998	998
99999	999
DELETE FROM cs1 WHERE d1 != 33;
SELECT * FROM cs1;
d1	d2
DROP TABLE cs1;
DROP TABLE cs2;
set sql_safe_updates=0;
DROP TABLE IF EXISTS cs1;
DROP TABLE IF EXISTS cs2;
CREATE TABLE cs1 (d1 int, d2 int) ENGINE=TIANMU;
CREATE TABLE cs2 (d1 int, d2 int) ENGINE=TIANMU;
INSERT INTO cs1 VALUES (125, 125);
INSERT INTO cs1 VALUES (-125, -125);
INSERT INTO cs1 VALUES (77, 55);
INSERT INTO cs1 VALUES (33, 66);
INSERT INTO cs1 VALUES (99998, 998);
INSERT INTO cs1 VALUES (99999, 999);
INSERT INTO cs2 VALUES (125, 125);
INSERT INTO cs2 VALUES (-125, -125);
INSERT INTO cs2 VALUES (77, 55);
INSERT INTO cs2 VALUES (33, 66);
INSERT INTO cs2 VALUES (99998, 998);
INSERT INTO cs2 VALUES (99999, 999);
SELECT * FROM cs1;
d1	d2
125	125
-125	-125
77	55
33	66
99998	998
99999	999
UPDATE cs1 SET d1=888, d2=777 WHERE d1 IN (125, 99999);
SELECT * FROM cs1;
d1	d2
888	777
-125	-125
77	55
33	66
99998	998
888	777
UPDATE cs1 SET d1=888, d2=777 WHERE d1 NOT IN (125, 99999);
SELECT * FROM cs1;
d1	d2
888	777
888	777
888	777
888	777
888	777
888	777
DELETE FROM cs1;
INSERT INTO cs1 VALUES (125, 125);
INSERT INTO cs1 VALUES (-125, -125);
INSERT INTO cs1 VALUES (77, 55);
INSERT INTO cs1 VALUES (33, 66);
INSERT INTO cs1 VALUES (99998, 998);
INSERT INTO cs1 VALUES (99999, 999);
UPDATE cs1 SET d1=888, d2=777 WHERE d1 IN (99998);
SELECT * FROM cs1;
d1	d2
125	125
-125	-125
77	55
33	66
888	777
99999	999
UPDATE cs1 SET d1=888, d2=777 WHERE d1 NOT IN (99998);
SELECT * FROM cs1;
d1	d2
888	777
888	777
888	777
888	777
888	777
888	777
DELETE FROM cs1;
INSERT INTO cs1 VALUES (125, 125);
INSERT INTO cs1 VALUES (-125, -125);
INSERT INTO cs1 VALUES (77, 55);
INSERT INTO cs1 VALUES (33, 66);
INSERT INTO cs1 VALUES (99998, 998);
INSERT INTO cs1 VALUES (99999, 999);
UPDATE cs1 SET d1=999, d2=777 WHERE d1 = 99998;
SELECT * FROM cs1;
d1	d2
125	125
-125	-125
77	55
33	66
999	777
99999	999
UPDATE cs1 SET d1=999, d2=777 WHERE d1 != 99998;
SELECT * FROM cs1;
d1	d2
999	777
999	777
999	777
999	777
999	777
999	777
DELETE FROM cs1;
INSERT INTO cs1 VALUES (125, 125);
INSERT INTO cs1 VALUES (-125, -125);
INSERT INTO cs1 VALUES (77, 55);
INSERT INTO cs1 VALUES (33, 66);
INSERT INTO cs1 VALUES (99998, 998);
INSERT INTO cs1 VALUES (99999, 999);
DELETE FROM cs2;
INSERT INTO cs2 VALUES (125, 125);
INSERT INTO cs2 VALUES (-125, -125);
INSERT INTO cs2 VALUES (77, 55);
INSERT INTO cs2 VALUES (33, 66);
INSERT INTO cs2 VALUES (99998, 998);
INSERT INTO cs2 VALUES (99999, 999);
UPDATE cs1 SET d1=999, d2=777 WHERE EXISTS (SELECT 1 from cs2 WHERE d1 IN (33, 77) ) LIMIT 1;
SELECT * FROM cs1;
d1	d2
999	777
-125	-125
77	55
33	66
99998	998
99999	999
DELETE FROM cs1;
INSERT INTO cs1 VALUES (125, 125);
INSERT INTO cs1 VALUES (-125, -125);
INSERT INTO cs1 VALUES (77, 55);
INSERT INTO cs1 VALUES (33, 66);
INSERT INTO cs1 VALUES (99998, 998);
INSERT INTO cs1 VALUES (99999, 999);
DELETE FROM cs2;
INSERT INTO cs2 VALUES (125, 125);
INSERT INTO cs2 VALUES (-125, -125);
INSERT INTO cs2 VALUES (77, 55);
INSERT INTO cs2 VALUES (33, 66);
INSERT INTO cs2 VALUES (99998, 998);
INSERT INTO cs2 VALUES (99999, 999);
UPDATE cs1 SET d1=999, d2=777 WHERE NOT EXISTS (SELECT 1 from cs2 WHERE d1 IN (330, 770) ) LIMIT 1;
SELECT * FROM cs1;
d1	d2
999	777
-125	-125
77	55
33	66
99998	998
99999	999
DELETE FROM cs1;
INSERT INTO cs1 VALUES (125, 125);
INSERT INTO cs1 VALUES (-125, -125);
INSERT INTO cs1 VALUES (77, 55);
INSERT INTO cs1 VALUES (33, 66);
INSERT INTO cs1 VALUES (99998, 998);
INSERT INTO cs1 VALUES (99999, 999);
DELETE FROM cs2;
INSERT INTO cs2 VALUES (125, 125);
INSERT INTO cs2 VALUES (-125, -125);
INSERT INTO cs2 VALUES (77, 55);
INSERT INTO cs2 VALUES (33, 66);
INSERT INTO cs2 VALUES (99998, 998);
INSERT INTO cs2 VALUES (99999, 999);
UPDATE cs1 SET d1=999, d2=777 WHERE EXISTS (SELECT 1 from cs2 WHERE d1 NOT IN (33, 77) ) LIMIT 1;
SELECT * FROM cs1;
d1	d2
999	777
-125	-125
77	55
33	66
99998	998
99999	999
DELETE FROM cs1;
INSERT INTO cs1 VALUES (125, 125);
INSERT INTO cs1 VALUES (-125, -125);
INSERT INTO cs1 VALUES (77, 55);
INSERT INTO cs1 VALUES (33, 66);
INSERT INTO cs1 VALUES (99998, 998);
INSERT INTO cs1 VALUES (99999, 999);
DELETE FROM cs2;
INSERT INTO cs2 VALUES (125, 125);
INSERT INTO cs2 VALUES (-125, -125);
INSERT INTO cs2 VALUES (77, 55);
INSERT INTO cs2 VALUES (33, 66);
INSERT INTO cs2 VALUES (99998, 998);
INSERT INTO cs2 VALUES (99999, 999);
UPDATE cs1 SET d1=999, d2=777 WHERE EXISTS (SELECT 1 from cs2 WHERE d1 IN (33) ) LIMIT 1;
SELECT * FROM cs1;
d1	d2
999	777
-125	-125
77	55
33	66
99998	998
99999	999
DELETE FROM cs1;
INSERT INTO cs1 VALUES (125, 125);
INSERT INTO cs1 VALUES (-125, -125);
INSERT INTO cs1 VALUES (77, 55);
INSERT INTO cs1 VALUES (33, 66);
INSERT INTO cs1 VALUES (99998, 998);
INSERT INTO cs1 VALUES (99999, 999);
DELETE FROM cs2;
INSERT INTO cs2 VALUES (125, 125);
INSERT INTO cs2 VALUES (-125, -125);
INSERT INTO cs2 VALUES (77, 55);
INSERT INTO cs2 VALUES (33, 66);
INSERT INTO cs2 VALUES (99998, 998);
INSERT INTO cs2 VALUES (99999, 999);
UPDATE cs1 SET d1=999, d2=777 WHERE NOT EXISTS (SELECT 1 from cs2 WHERE d1 IN (330) ) LIMIT 1;
SELECT * FROM cs1;
d1	d2
999	777
-125	-125
77	55
33	66
99998	998
99999	999
DELETE FROM cs1;
INSERT INTO cs1 VALUES (125, 125);
INSERT INTO cs1 VALUES (-125, -125);
INSERT INTO cs1 VALUES (77, 55);
INSERT INTO cs1 VALUES (33, 66);
INSERT INTO cs1 VALUES (99998, 998);
INSERT INTO cs1 VALUES (99999, 999);
DELETE FROM cs2;
INSERT INTO cs2 VALUES (125, 125);
INSERT INTO cs2 VALUES (-125, -125);
INSERT INTO cs2 VALUES (77, 55);
INSERT INTO cs2 VALUES (33, 66);
INSERT INTO cs2 VALUES (99998, 998);
INSERT INTO cs2 VALUES (99999, 999);
UPDATE cs1 SET d1=999, d2=777 WHERE EXISTS (SELECT 1 from cs2 WHERE d1 NOT IN (33) ) LIMIT 1;
SELECT * FROM cs1;
d1	d2
999	777
-125	-125
77	55
33	66
99998	998
99999	999
DELETE FROM cs1;
INSERT INTO cs1 VALUES (125, 125);
INSERT INTO cs1 VALUES (-125, -125);
INSERT INTO cs1 VALUES (77, 55);
INSERT INTO cs1 VALUES (33, 66);
INSERT INTO cs1 VALUES (99998, 998);
INSERT INTO cs1 VALUES (99999, 999);
DELETE FROM cs1 WHERE d1 IN (77, 999);
SELECT * FROM cs1;
d1	d2
125	125
-125	-125
33	66
99998	998
99999	999
DELETE FROM cs1 WHERE d1 NOT IN (77, 999);
SELECT * FROM cs1;
d1	d2
DELETE FROM cs1;
INSERT INTO cs1 VALUES (125, 125);
INSERT INTO cs1 VALUES (-125, -125);
INSERT INTO cs1 VALUES (77, 55);
INSERT INTO cs1 VALUES (33, 66);
INSERT INTO cs1 VALUES (99998, 998);
INSERT INTO cs1 VALUES (99999, 999);
DELETE FROM cs1 WHERE d1 IN (-125);
SELECT * FROM cs1;
d1	d2
125	125
77	55
33	66
99998	998
99999	999
DELETE FROM cs1 WHERE d1 NOT IN (-125);
SELECT * FROM cs1;
d1	d2
DELETE FROM cs1;
INSERT INTO cs1 VALUES (125, 125);
INSERT INTO cs1 VALUES (-125, -125);
INSERT INTO cs1 VALUES (77, 55);
INSERT INTO cs1 VALUES (33, 66);
INSERT INTO cs1 VALUES (99998, 998);
INSERT INTO cs1 VALUES (99999, 999);
DELETE FROM cs1 WHERE d1 = 33;
SELECT * FROM cs1;
d1	d2
125	125
-125	-125
77	55
99998	998
99999	999
DELETE FROM cs1 WHERE d1 != 33;
SELECT * FROM cs1;
d1	d2
DROP TABLE cs1;
DROP TABLE cs2;
DROP TABLE IF EXISTS cs1;
DROP TABLE IF EXISTS cs2;
CREATE TABLE cs1 (d1 INT PRIMARY KEY, d2 INT) ENGINE=TIANMU;
CREATE TABLE cs2 (d1 INT PRIMARY KEY, d2 INT) ENGINE=TIANMU;
INSERT INTO cs1 VALUES (125, 125);
INSERT INTO cs1 VALUES (-125, -125);
INSERT INTO cs1 VALUES (77, 55);
INSERT INTO cs1 VALUES (33, 66);
INSERT INTO cs1 VALUES (99998, 998);
INSERT INTO cs1 VALUES (99999, 999);
INSERT INTO cs2 VALUES (125, 125);
INSERT INTO cs2 VALUES (-125, -125);
INSERT INTO cs2 VALUES (77, 55);
INSERT INTO cs2 VALUES (33, 66);
INSERT INTO cs2 VALUES (99998, 998);
INSERT INTO cs2 VALUES (99999, 999);
SELECT * FROM cs1;
d1	d2
125	125
-125	-125
77	55
33	66
99998	998
99999	999
UPDATE cs1 SET d1=888, d2=777 WHERE d1 IN (125, 99999) LIMIT 1;
SELECT * FROM cs1;
d1	d2
888	777
-125	-125
77	55
33	66
99998	998
99999	999
UPDATE cs1 SET d1=888, d2=777 WHERE d1 NOT IN (125, 99999) LIMIT 1;
SELECT * FROM cs1;
d1	d2
888	777
-125	-125
77	55
33	66
99998	998
99999	999
DELETE FROM cs1;
INSERT INTO cs1 VALUES (125, 125);
INSERT INTO cs1 VALUES (-125, -125);
INSERT INTO cs1 VALUES (77, 55);
INSERT INTO cs1 VALUES (33, 66);
INSERT INTO cs1 VALUES (99998, 998);
INSERT INTO cs1 VALUES (99999, 999);
UPDATE cs1 SET d1=888, d2=777 WHERE d1 IN (99998) LIMIT 1;
SELECT * FROM cs1;
d1	d2
125	125
-125	-125
77	55
33	66
888	777
99999	999
UPDATE cs1 SET d1=658, d2=785 WHERE d1 NOT IN (99998) LIMIT 1;
SELECT * FROM cs1;
d1	d2
658	785
-125	-125
77	55
33	66
888	777
99999	999
DELETE FROM cs1;
INSERT INTO cs1 VALUES (125, 125);
INSERT INTO cs1 VALUES (-125, -125);
INSERT INTO cs1 VALUES (77, 55);
INSERT INTO cs1 VALUES (33, 66);
INSERT INTO cs1 VALUES (99998, 998);
INSERT INTO cs1 VALUES (99999, 999);
UPDATE cs1 SET d1=999, d2=777 WHERE d1 = 99998 LIMIT 1;
SELECT * FROM cs1;
d1	d2
125	125
-125	-125
77	55
33	66
999	777
99999	999
UPDATE cs1 SET d1=4587, d2=2456 WHERE d1 != 99998 LIMIT 1;
SELECT * FROM cs1;
d1	d2
4587	2456
-125	-125
77	55
33	66
999	777
99999	999
DELETE FROM cs1;
INSERT INTO cs1 VALUES (125, 125);
INSERT INTO cs1 VALUES (-125, -125);
INSERT INTO cs1 VALUES (77, 55);
INSERT INTO cs1 VALUES (33, 66);
INSERT INTO cs1 VALUES (99998, 998);
INSERT INTO cs1 VALUES (99999, 999);
DELETE FROM cs2;
INSERT INTO cs2 VALUES (125, 125);
INSERT INTO cs2 VALUES (-125, -125);
INSERT INTO cs2 VALUES (77, 55);
INSERT INTO cs2 VALUES (33, 66);
INSERT INTO cs2 VALUES (99998, 998);
INSERT INTO cs2 VALUES (99999, 999);
UPDATE cs1 SET d1=999, d2=777 WHERE EXISTS (SELECT 1 from cs2 WHERE d1 IN (33, 77) ) LIMIT 1;
SELECT * FROM cs1;
d1	d2
999	777
-125	-125
77	55
33	66
99998	998
99999	999
DELETE FROM cs1;
INSERT INTO cs1 VALUES (125, 125);
INSERT INTO cs1 VALUES (-125, -125);
INSERT INTO cs1 VALUES (77, 55);
INSERT INTO cs1 VALUES (33, 66);
INSERT INTO cs1 VALUES (99998, 998);
INSERT INTO cs1 VALUES (99999, 999);
DELETE FROM cs2;
INSERT INTO cs2 VALUES (125, 125);
INSERT INTO cs2 VALUES (-125, -125);
INSERT INTO cs2 VALUES (77, 55);
INSERT INTO cs2 VALUES (33, 66);
INSERT INTO cs2 VALUES (99998, 998);
INSERT INTO cs2 VALUES (99999, 999);
UPDATE cs1 SET d1=999, d2=777 WHERE NOT EXISTS (SELECT 1 from cs2 WHERE d1 IN (330, 770) ) LIMIT 1;
SELECT * FROM cs1;
d1	d2
999	777
-125	-125
77	55
33	66
99998	998
99999	999
DELETE FROM cs1;
INSERT INTO cs1 VALUES (125, 125);
INSERT INTO cs1 VALUES (-125, -125);
INSERT INTO cs1 VALUES (77, 55);
INSERT INTO cs1 VALUES (33, 66);
INSERT INTO cs1 VALUES (99998, 998);
INSERT INTO cs1 VALUES (99999, 999);
DELETE FROM cs2;
INSERT INTO cs2 VALUES (125, 125);
INSERT INTO cs2 VALUES (-125, -125);
INSERT INTO cs2 VALUES (77, 55);
INSERT INTO cs2 VALUES (33, 66);
INSERT INTO cs2 VALUES (99998, 998);
INSERT INTO cs2 VALUES (99999, 999);
UPDATE cs1 SET d1=999, d2=777 WHERE EXISTS (SELECT 1 from cs2 WHERE d1 NOT IN (33, 77) ) LIMIT 1;
SELECT * FROM cs1;
d1	d2
999	777
-125	-125
77	55
33	66
99998	998
99999	999
DELETE FROM cs1;
INSERT INTO cs1 VALUES (125, 125);
INSERT INTO cs1 VALUES (-125, -125);
INSERT INTO cs1 VALUES (77, 55);
INSERT INTO cs1 VALUES (33, 66);
INSERT INTO cs1 VALUES (99998, 998);
INSERT INTO cs1 VALUES (99999, 999);
DELETE FROM cs2;
INSERT INTO cs2 VALUES (125, 125);
INSERT INTO cs2 VALUES (-125, -125);
INSERT INTO cs2 VALUES (77, 55);
INSERT INTO cs2 VALUES (33, 66);
INSERT INTO cs2 VALUES (99998, 998);
INSERT INTO cs2 VALUES (99999, 999);
UPDATE cs1 SET d1=999, d2=777 WHERE EXISTS (SELECT 1 from cs2 WHERE d1 IN (33) ) LIMIT 1;
SELECT * FROM cs1;
d1	d2
999	777
-125	-125
77	55
33	66
99998	998
99999	999
DELETE FROM cs1;
INSERT INTO cs1 VALUES (125, 125);
INSERT INTO cs1 VALUES (-125, -125);
INSERT INTO cs1 VALUES (77, 55);
INSERT INTO cs1 VALUES (33, 66);
INSERT INTO cs1 VALUES (99998, 998);
INSERT INTO cs1 VALUES (99999, 999);
DELETE FROM cs2;
INSERT INTO cs2 VALUES (125, 125);
INSERT INTO cs2 VALUES (-125, -125);
INSERT INTO cs2 VALUES (77, 55);
INSERT INTO cs2 VALUES (33, 66);
INSERT INTO cs2 VALUES (99998, 998);
INSERT INTO cs2 VALUES (99999, 999);
UPDATE cs1 SET d1=999, d2=777 WHERE NOT EXISTS (SELECT 1 from cs2 WHERE d1 IN (330) ) LIMIT 1;
SELECT * FROM cs1;
d1	d2
999	777
-125	-125
77	55
33	66
99998	998
99999	999
DELETE FROM cs1;
INSERT INTO cs1 VALUES (125, 125);
INSERT INTO cs1 VALUES (-125, -125);
INSERT INTO cs1 VALUES (77, 55);
INSERT INTO cs1 VALUES (33, 66);
INSERT INTO cs1 VALUES (99998, 998);
INSERT INTO cs1 VALUES (99999, 999);
DELETE FROM cs2;
INSERT INTO cs2 VALUES (125, 125);
INSERT INTO cs2 VALUES (-125, -125);
INSERT INTO cs2 VALUES (77, 55);
INSERT INTO cs2 VALUES (33, 66);
INSERT INTO cs2 VALUES (99998, 998);
INSERT INTO cs2 VALUES (99999, 999);
UPDATE cs1 SET d1=999, d2=777 WHERE EXISTS (SELECT 1 from cs2 WHERE d1 NOT IN (33) ) LIMIT 1;
SELECT * FROM cs1;
d1	d2
999	777
-125	-125
77	55
33	66
99998	998
99999	999
DELETE FROM cs1;
INSERT INTO cs1 VALUES (125, 125);
INSERT INTO cs1 VALUES (-125, -125);
INSERT INTO cs1 VALUES (77, 55);
INSERT INTO cs1 VALUES (33, 66);
INSERT INTO cs1 VALUES (99998, 998);
INSERT INTO cs1 VALUES (99999, 999);
DELETE FROM cs1 WHERE d1 IN (77, 999) LIMIT 1;
SELECT * FROM cs1;
d1	d2
125	125
-125	-125
33	66
99998	998
99999	999
DELETE FROM cs1 WHERE d1 NOT IN (77, 999) LIMIT 1;
SELECT * FROM cs1;
d1	d2
-125	-125
33	66
99998	998
99999	999
DELETE FROM cs1;
INSERT INTO cs1 VALUES (125, 125);
INSERT INTO cs1 VALUES (-125, -125);
INSERT INTO cs1 VALUES (77, 55);
INSERT INTO cs1 VALUES (33, 66);
INSERT INTO cs1 VALUES (99998, 998);
INSERT INTO cs1 VALUES (99999, 999);
DELETE FROM cs1 WHERE d1 IN (-125) LIMIT 1;
SELECT * FROM cs1;
d1	d2
125	125
77	55
33	66
99998	998
99999	999
DELETE FROM cs1 WHERE d1 NOT IN (-125) LIMIT 1;
SELECT * FROM cs1;
d1	d2
77	55
33	66
99998	998
99999	999
DELETE FROM cs1;
INSERT INTO cs1 VALUES (125, 125);
INSERT INTO cs1 VALUES (-125, -125);
INSERT INTO cs1 VALUES (77, 55);
INSERT INTO cs1 VALUES (33, 66);
INSERT INTO cs1 VALUES (99998, 998);
INSERT INTO cs1 VALUES (99999, 999);
DELETE FROM cs1 WHERE d1 = 33;
SELECT * FROM cs1;
d1	d2
125	125
-125	-125
77	55
99998	998
99999	999
DELETE FROM cs1 WHERE d1 != 33;
SELECT * FROM cs1;
d1	d2
DROP TABLE cs1;
DROP TABLE cs2;
set sql_safe_updates=1;
DROP TABLE IF EXISTS cs1;
DROP TABLE IF EXISTS cs2;
CREATE TABLE cs1 (d1 INT PRIMARY KEY, d2 INT) ENGINE=TIANMU;
CREATE TABLE cs2 (d1 INT PRIMARY KEY, d2 INT) ENGINE=TIANMU;
INSERT INTO cs1 VALUES (125, 125);
INSERT INTO cs1 VALUES (-125, -125);
INSERT INTO cs1 VALUES (77, 55);
INSERT INTO cs1 VALUES (33, 66);
INSERT INTO cs1 VALUES (99998, 998);
INSERT INTO cs1 VALUES (99999, 999);
INSERT INTO cs2 VALUES (125, 125);
INSERT INTO cs2 VALUES (-125, -125);
INSERT INTO cs2 VALUES (77, 55);
INSERT INTO cs2 VALUES (33, 66);
INSERT INTO cs2 VALUES (99998, 998);
INSERT INTO cs2 VALUES (99999, 999);
SELECT * FROM cs1;
d1	d2
125	125
-125	-125
77	55
33	66
99998	998
99999	999
UPDATE cs1 SET d1=888, d2=777 WHERE d1 IN (125, 99999) LIMIT 1;
SELECT * FROM cs1;
d1	d2
888	777
-125	-125
77	55
33	66
99998	998
99999	999
UPDATE cs1 SET d1=888, d2=777 WHERE d1 NOT IN (125, 99999) LIMIT 1;
SELECT * FROM cs1;
d1	d2
888	777
-125	-125
77	55
33	66
99998	998
99999	999
DROP TABLE IF EXISTS cs1;
CREATE TABLE cs1 (d1 INT PRIMARY KEY, d2 INT) ENGINE=TIANMU;
INSERT INTO cs1 VALUES (125, 125);
INSERT INTO cs1 VALUES (-125, -125);
INSERT INTO cs1 VALUES (77, 55);
INSERT INTO cs1 VALUES (33, 66);
INSERT INTO cs1 VALUES (99998, 998);
INSERT INTO cs1 VALUES (99999, 999);
UPDATE cs1 SET d1=888, d2=777 WHERE d1 IN (99998) LIMIT 1;
SELECT * FROM cs1;
d1	d2
125	125
-125	-125
77	55
33	66
888	777
99999	999
UPDATE cs1 SET d1=658, d2=785 WHERE d1 NOT IN (99998) LIMIT 1;
SELECT * FROM cs1;
d1	d2
658	785
-125	-125
77	55
33	66
888	777
99999	999
DROP TABLE IF EXISTS cs1;
CREATE TABLE cs1 (d1 INT PRIMARY KEY, d2 INT) ENGINE=TIANMU;
INSERT INTO cs1 VALUES (125, 125);
INSERT INTO cs1 VALUES (-125, -125);
INSERT INTO cs1 VALUES (77, 55);
INSERT INTO cs1 VALUES (33, 66);
INSERT INTO cs1 VALUES (99998, 998);
INSERT INTO cs1 VALUES (99999, 999);
UPDATE cs1 SET d1=999, d2=777 WHERE d1 = 99998 LIMIT 1;
SELECT * FROM cs1;
d1	d2
125	125
-125	-125
77	55
33	66
999	777
99999	999
UPDATE cs1 SET d1=4587, d2=2456 WHERE d1 != 99998 LIMIT 1;
SELECT * FROM cs1;
d1	d2
4587	2456
-125	-125
77	55
33	66
999	777
99999	999
DROP TABLE IF EXISTS cs1;
CREATE TABLE cs1 (d1 INT PRIMARY KEY, d2 INT) ENGINE=TIANMU;
INSERT INTO cs1 VALUES (125, 125);
INSERT INTO cs1 VALUES (-125, -125);
INSERT INTO cs1 VALUES (77, 55);
INSERT INTO cs1 VALUES (33, 66);
INSERT INTO cs1 VALUES (99998, 998);
INSERT INTO cs1 VALUES (99999, 999);
DROP TABLE IF EXISTS cs2;
CREATE TABLE cs2 (d1 INT PRIMARY KEY, d2 INT) ENGINE=TIANMU;
INSERT INTO cs2 VALUES (125, 125);
INSERT INTO cs2 VALUES (-125, -125);
INSERT INTO cs2 VALUES (77, 55);
INSERT INTO cs2 VALUES (33, 66);
INSERT INTO cs2 VALUES (99998, 998);
INSERT INTO cs2 VALUES (99999, 999);
UPDATE cs1 SET d1=999, d2=777 WHERE EXISTS (SELECT 1 from cs2 WHERE d1 IN (33, 77) ) LIMIT 1;
SELECT * FROM cs1;
d1	d2
999	777
-125	-125
77	55
33	66
99998	998
99999	999
DROP TABLE IF EXISTS cs1;
CREATE TABLE cs1 (d1 INT PRIMARY KEY, d2 INT) ENGINE=TIANMU;
INSERT INTO cs1 VALUES (125, 125);
INSERT INTO cs1 VALUES (-125, -125);
INSERT INTO cs1 VALUES (77, 55);
INSERT INTO cs1 VALUES (33, 66);
INSERT INTO cs1 VALUES (99998, 998);
INSERT INTO cs1 VALUES (99999, 999);
DROP TABLE IF EXISTS cs2;
CREATE TABLE cs2 (d1 INT PRIMARY KEY, d2 INT) ENGINE=TIANMU;
INSERT INTO cs2 VALUES (125, 125);
INSERT INTO cs2 VALUES (-125, -125);
INSERT INTO cs2 VALUES (77, 55);
INSERT INTO cs2 VALUES (33, 66);
INSERT INTO cs2 VALUES (99998, 998);
INSERT INTO cs2 VALUES (99999, 999);
UPDATE cs1 SET d1=999, d2=777 WHERE NOT EXISTS (SELECT 1 from cs2 WHERE d1 IN (330, 770) ) LIMIT 1;
SELECT * FROM cs1;
d1	d2
999	777
-125	-125
77	55
33	66
99998	998
99999	999
DROP TABLE IF EXISTS cs1;
CREATE TABLE cs1 (d1 INT PRIMARY KEY, d2 INT) ENGINE=TIANMU;
INSERT INTO cs1 VALUES (125, 125);
INSERT INTO cs1 VALUES (-125, -125);
INSERT INTO cs1 VALUES (77, 55);
INSERT INTO cs1 VALUES (33, 66);
INSERT INTO cs1 VALUES (99998, 998);
INSERT INTO cs1 VALUES (99999, 999);
DROP TABLE IF EXISTS cs2;
CREATE TABLE cs2 (d1 INT PRIMARY KEY, d2 INT) ENGINE=TIANMU;
INSERT INTO cs2 VALUES (125, 125);
INSERT INTO cs2 VALUES (-125, -125);
INSERT INTO cs2 VALUES (77, 55);
INSERT INTO cs2 VALUES (33, 66);
INSERT INTO cs2 VALUES (99998, 998);
INSERT INTO cs2 VALUES (99999, 999);
UPDATE cs1 SET d1=999, d2=777 WHERE EXISTS (SELECT 1 from cs2 WHERE d1 NOT IN (33, 77) ) LIMIT 1;
SELECT * FROM cs1;
d1	d2
999	777
-125	-125
77	55
33	66
99998	998
99999	999
DROP TABLE IF EXISTS cs1;
CREATE TABLE cs1 (d1 INT PRIMARY KEY, d2 INT) ENGINE=TIANMU;
INSERT INTO cs1 VALUES (125, 125);
INSERT INTO cs1 VALUES (-125, -125);
INSERT INTO cs1 VALUES (77, 55);
INSERT INTO cs1 VALUES (33, 66);
INSERT INTO cs1 VALUES (99998, 998);
INSERT INTO cs1 VALUES (99999, 999);
DROP TABLE IF EXISTS cs2;
CREATE TABLE cs2 (d1 INT PRIMARY KEY, d2 INT) ENGINE=TIANMU;
INSERT INTO cs2 VALUES (125, 125);
INSERT INTO cs2 VALUES (-125, -125);
INSERT INTO cs2 VALUES (77, 55);
INSERT INTO cs2 VALUES (33, 66);
INSERT INTO cs2 VALUES (99998, 998);
INSERT INTO cs2 VALUES (99999, 999);
UPDATE cs1 SET d1=999, d2=777 WHERE EXISTS (SELECT 1 from cs2 WHERE d1 IN (33) ) LIMIT 1;
SELECT * FROM cs1;
d1	d2
999	777
-125	-125
77	55
33	66
99998	998
99999	999
DROP TABLE IF EXISTS cs1;
CREATE TABLE cs1 (d1 INT PRIMARY KEY, d2 INT) ENGINE=TIANMU;
INSERT INTO cs1 VALUES (125, 125);
INSERT INTO cs1 VALUES (-125, -125);
INSERT INTO cs1 VALUES (77, 55);
INSERT INTO cs1 VALUES (33, 66);
INSERT INTO cs1 VALUES (99998, 998);
INSERT INTO cs1 VALUES (99999, 999);
DROP TABLE IF EXISTS cs2;
CREATE TABLE cs2 (d1 INT PRIMARY KEY, d2 INT) ENGINE=TIANMU;
INSERT INTO cs2 VALUES (125, 125);
INSERT INTO cs2 VALUES (-125, -125);
INSERT INTO cs2 VALUES (77, 55);
INSERT INTO cs2 VALUES (33, 66);
INSERT INTO cs2 VALUES (99998, 998);
INSERT INTO cs2 VALUES (99999, 999);
UPDATE cs1 SET d1=999, d2=777 WHERE NOT EXISTS (SELECT 1 from cs2 WHERE d1 IN (330) ) LIMIT 1;
SELECT * FROM cs1;
d1	d2
999	777
-125	-125
77	55
33	66
99998	998
99999	999
DROP TABLE IF EXISTS cs1;
CREATE TABLE cs1 (d1 INT PRIMARY KEY, d2 INT) ENGINE=TIANMU;
INSERT INTO cs1 VALUES (125, 125);
INSERT INTO cs1 VALUES (-125, -125);
INSERT INTO cs1 VALUES (77, 55);
INSERT INTO cs1 VALUES (33, 66);
INSERT INTO cs1 VALUES (99998, 998);
INSERT INTO cs1 VALUES (99999, 999);
DROP TABLE IF EXISTS cs2;
CREATE TABLE cs2 (d1 INT PRIMARY KEY, d2 INT) ENGINE=TIANMU;
INSERT INTO cs2 VALUES (125, 125);
INSERT INTO cs2 VALUES (-125, -125);
INSERT INTO cs2 VALUES (77, 55);
INSERT INTO cs2 VALUES (33, 66);
INSERT INTO cs2 VALUES (99998, 998);
INSERT INTO cs2 VALUES (99999, 999);
UPDATE cs1 SET d1=999, d2=777 WHERE EXISTS (SELECT 1 from cs2 WHERE d1 NOT IN (33) ) LIMIT 1;
SELECT * FROM cs1;
d1	d2
999	777
-125	-125
77	55
33	66
99998	998
99999	999
DROP TABLE IF EXISTS cs1;
CREATE TABLE cs1 (d1 INT PRIMARY KEY, d2 INT) ENGINE=TIANMU;
INSERT INTO cs1 VALUES (125, 125);
INSERT INTO cs1 VALUES (-125, -125);
INSERT INTO cs1 VALUES (77, 55);
INSERT INTO cs1 VALUES (33, 66);
INSERT INTO cs1 VALUES (99998, 998);
INSERT INTO cs1 VALUES (99999, 999);
DELETE FROM cs1 WHERE d1 IN (77, 999) LIMIT 1;
SELECT * FROM cs1;
d1	d2
125	125
-125	-125
33	66
99998	998
99999	999
DELETE FROM cs1 WHERE d1 NOT IN (77, 999) LIMIT 1;
SELECT * FROM cs1;
d1	d2
-125	-125
33	66
99998	998
99999	999
DROP TABLE IF EXISTS cs1;
CREATE TABLE cs1 (d1 INT PRIMARY KEY, d2 INT) ENGINE=TIANMU;
INSERT INTO cs1 VALUES (125, 125);
INSERT INTO cs1 VALUES (-125, -125);
INSERT INTO cs1 VALUES (77, 55);
INSERT INTO cs1 VALUES (33, 66);
INSERT INTO cs1 VALUES (99998, 998);
INSERT INTO cs1 VALUES (99999, 999);
DELETE FROM cs1 WHERE d1 IN (-125) LIMIT 1;
SELECT * FROM cs1;
d1	d2
125	125
77	55
33	66
99998	998
99999	999
DELETE FROM cs1 WHERE d1 NOT IN (-125) LIMIT 1;
SELECT * FROM cs1;
d1	d2
77	55
33	66
99998	998
99999	999
DROP TABLE IF EXISTS cs1;
CREATE TABLE cs1 (d1 INT PRIMARY KEY, d2 INT) ENGINE=TIANMU;
INSERT INTO cs1 VALUES (125, 125);
INSERT INTO cs1 VALUES (-125, -125);
INSERT INTO cs1 VALUES (77, 55);
INSERT INTO cs1 VALUES (33, 66);
INSERT INTO cs1 VALUES (99998, 998);
INSERT INTO cs1 VALUES (99999, 999);
DELETE FROM cs1 WHERE d1 = 33;
SELECT * FROM cs1;
d1	d2
125	125
-125	-125
77	55
99998	998
99999	999
DELETE FROM cs1 WHERE d1 != 33;
ERROR HY000: You are using safe update mode and you tried to update a table without a WHERE that uses a KEY column. 
SELECT * FROM cs1;
d1	d2
125	125
-125	-125
77	55
99998	998
99999	999
DROP TABLE cs1;
DROP TABLE cs2;
set sql_safe_updates=0;
DROP TABLE IF EXISTS cs1;
DROP TABLE IF EXISTS cs2;
CREATE TABLE cs1 (d1 int, d2 int) ENGINE=TIANMU;
CREATE TABLE cs2 (d1 int, d2 int) ENGINE=TIANMU;
INSERT INTO cs1 VALUES (125, 125);
INSERT INTO cs1 VALUES (-125, -125);
INSERT INTO cs1 VALUES (77, 55);
INSERT INTO cs1 VALUES (33, 66);
INSERT INTO cs1 VALUES (99998, 998);
INSERT INTO cs1 VALUES (99999, 999);
INSERT INTO cs2 VALUES (125, 125);
INSERT INTO cs2 VALUES (-125, -125);
INSERT INTO cs2 VALUES (77, 55);
INSERT INTO cs2 VALUES (33, 66);
INSERT INTO cs2 VALUES (99998, 998);
INSERT INTO cs2 VALUES (99999, 999);
SELECT * FROM cs1;
d1	d2
125	125
-125	-125
77	55
33	66
99998	998
99999	999
UPDATE cs1 SET d1=888, d2=777 WHERE d1 IN (125, 99999) LIMIT 1;
SELECT * FROM cs1;
d1	d2
888	777
-125	-125
77	55
33	66
99998	998
99999	999
UPDATE cs1 SET d1=888, d2=777 WHERE d1 NOT IN (125, 99999) LIMIT 1;
SELECT * FROM cs1;
d1	d2
888	777
-125	-125
77	55
33	66
99998	998
99999	999
DROP TABLE IF EXISTS cs1;
CREATE TABLE cs1 (d1 INT PRIMARY KEY, d2 INT) ENGINE=TIANMU;
INSERT INTO cs1 VALUES (125, 125);
INSERT INTO cs1 VALUES (-125, -125);
INSERT INTO cs1 VALUES (77, 55);
INSERT INTO cs1 VALUES (33, 66);
INSERT INTO cs1 VALUES (99998, 998);
INSERT INTO cs1 VALUES (99999, 999);
UPDATE cs1 SET d1=888, d2=777 WHERE d1 IN (99998);
SELECT * FROM cs1;
d1	d2
125	125
-125	-125
77	55
33	66
888	777
99999	999
UPDATE cs1 SET d1=87464, d2=46584 WHERE d1 NOT IN (99998) LIMIT 1;
SELECT * FROM cs1;
d1	d2
87464	46584
-125	-125
77	55
33	66
888	777
99999	999
DROP TABLE IF EXISTS cs1;
CREATE TABLE cs1 (d1 INT PRIMARY KEY, d2 INT) ENGINE=TIANMU;
INSERT INTO cs1 VALUES (125, 125);
INSERT INTO cs1 VALUES (-125, -125);
INSERT INTO cs1 VALUES (77, 55);
INSERT INTO cs1 VALUES (33, 66);
INSERT INTO cs1 VALUES (99998, 998);
INSERT INTO cs1 VALUES (99999, 999);
UPDATE cs1 SET d1=999, d2=777 WHERE d1 = 99998 LIMIT 1;
SELECT * FROM cs1;
d1	d2
125	125
-125	-125
77	55
33	66
999	777
99999	999
UPDATE cs1 SET d1=4646, d2=878 WHERE d1 != 99998 LIMIT 1;
SELECT * FROM cs1;
d1	d2
4646	878
-125	-125
77	55
33	66
999	777
99999	999
DROP TABLE IF EXISTS cs1;
CREATE TABLE cs1 (d1 INT PRIMARY KEY, d2 INT) ENGINE=TIANMU;
INSERT INTO cs1 VALUES (125, 125);
INSERT INTO cs1 VALUES (-125, -125);
INSERT INTO cs1 VALUES (77, 55);
INSERT INTO cs1 VALUES (33, 66);
INSERT INTO cs1 VALUES (99998, 998);
INSERT INTO cs1 VALUES (99999, 999);
DROP TABLE IF EXISTS cs2;
CREATE TABLE cs2 (d1 INT PRIMARY KEY, d2 INT) ENGINE=TIANMU;
INSERT INTO cs2 VALUES (125, 125);
INSERT INTO cs2 VALUES (-125, -125);
INSERT INTO cs2 VALUES (77, 55);
INSERT INTO cs2 VALUES (33, 66);
INSERT INTO cs2 VALUES (99998, 998);
INSERT INTO cs2 VALUES (99999, 999);
UPDATE cs1 SET d1=464, d2=484 WHERE EXISTS (SELECT 1 from cs2 WHERE d1 IN (33, 77) ) LIMIT 1;
SELECT * FROM cs1;
d1	d2
464	484
-125	-125
77	55
33	66
99998	998
99999	999
DROP TABLE IF EXISTS cs1;
CREATE TABLE cs1 (d1 INT PRIMARY KEY, d2 INT) ENGINE=TIANMU;
INSERT INTO cs1 VALUES (125, 125);
INSERT INTO cs1 VALUES (-125, -125);
INSERT INTO cs1 VALUES (77, 55);
INSERT INTO cs1 VALUES (33, 66);
INSERT INTO cs1 VALUES (99998, 998);
INSERT INTO cs1 VALUES (99999, 999);
DROP TABLE IF EXISTS cs2;
CREATE TABLE cs2 (d1 INT PRIMARY KEY, d2 INT) ENGINE=TIANMU;
INSERT INTO cs2 VALUES (125, 125);
INSERT INTO cs2 VALUES (-125, -125);
INSERT INTO cs2 VALUES (77, 55);
INSERT INTO cs2 VALUES (33, 66);
INSERT INTO cs2 VALUES (99998, 998);
INSERT INTO cs2 VALUES (99999, 999);
UPDATE cs1 SET d1=999, d2=777 WHERE NOT EXISTS (SELECT 1 from cs2 WHERE d1 IN (330, 770) ) LIMIT 1;
SELECT * FROM cs1;
d1	d2
999	777
-125	-125
77	55
33	66
99998	998
99999	999
DROP TABLE IF EXISTS cs1;
CREATE TABLE cs1 (d1 INT PRIMARY KEY, d2 INT) ENGINE=TIANMU;
INSERT INTO cs1 VALUES (125, 125);
INSERT INTO cs1 VALUES (-125, -125);
INSERT INTO cs1 VALUES (77, 55);
INSERT INTO cs1 VALUES (33, 66);
INSERT INTO cs1 VALUES (99998, 998);
INSERT INTO cs1 VALUES (99999, 999);
DROP TABLE IF EXISTS cs2;
CREATE TABLE cs2 (d1 INT PRIMARY KEY, d2 INT) ENGINE=TIANMU;
INSERT INTO cs2 VALUES (125, 125);
INSERT INTO cs2 VALUES (-125, -125);
INSERT INTO cs2 VALUES (77, 55);
INSERT INTO cs2 VALUES (33, 66);
INSERT INTO cs2 VALUES (99998, 998);
INSERT INTO cs2 VALUES (99999, 999);
UPDATE cs1 SET d1=999, d2=777 WHERE EXISTS (SELECT 1 from cs2 WHERE d1 NOT IN (33, 77) ) LIMIT 1;
SELECT * FROM cs1;
d1	d2
999	777
-125	-125
77	55
33	66
99998	998
99999	999
DROP TABLE IF EXISTS cs1;
CREATE TABLE cs1 (d1 INT PRIMARY KEY, d2 INT) ENGINE=TIANMU;
INSERT INTO cs1 VALUES (125, 125);
INSERT INTO cs1 VALUES (-125, -125);
INSERT INTO cs1 VALUES (77, 55);
INSERT INTO cs1 VALUES (33, 66);
INSERT INTO cs1 VALUES (99998, 998);
INSERT INTO cs1 VALUES (99999, 999);
DROP TABLE IF EXISTS cs2;
CREATE TABLE cs2 (d1 INT PRIMARY KEY, d2 INT) ENGINE=TIANMU;
INSERT INTO cs2 VALUES (125, 125);
INSERT INTO cs2 VALUES (-125, -125);
INSERT INTO cs2 VALUES (77, 55);
INSERT INTO cs2 VALUES (33, 66);
INSERT INTO cs2 VALUES (99998, 998);
INSERT INTO cs2 VALUES (99999, 999);
UPDATE cs1 SET d1=999, d2=777 WHERE EXISTS (SELECT 1 from cs2 WHERE d1 IN (33) ) LIMIT 1;
SELECT * FROM cs1;
d1	d2
999	777
-125	-125
77	55
33	66
99998	998
99999	999
DROP TABLE IF EXISTS cs1;
CREATE TABLE cs1 (d1 INT PRIMARY KEY, d2 INT) ENGINE=TIANMU;
INSERT INTO cs1 VALUES (125, 125);
INSERT INTO cs1 VALUES (-125, -125);
INSERT INTO cs1 VALUES (77, 55);
INSERT INTO cs1 VALUES (33, 66);
INSERT INTO cs1 VALUES (99998, 998);
INSERT INTO cs1 VALUES (99999, 999);
DROP TABLE IF EXISTS cs2;
CREATE TABLE cs2 (d1 INT PRIMARY KEY, d2 INT) ENGINE=TIANMU;
INSERT INTO cs2 VALUES (125, 125);
INSERT INTO cs2 VALUES (-125, -125);
INSERT INTO cs2 VALUES (77, 55);
INSERT INTO cs2 VALUES (33, 66);
INSERT INTO cs2 VALUES (99998, 998);
INSERT INTO cs2 VALUES (99999, 999);
UPDATE cs1 SET d1=999, d2=777 WHERE NOT EXISTS (SELECT 1 from cs2 WHERE d1 IN (330) ) LIMIT 1;
SELECT * FROM cs1;
d1	d2
999	777
-125	-125
77	55
33	66
99998	998
99999	999
DROP TABLE IF EXISTS cs1;
CREATE TABLE cs1 (d1 INT PRIMARY KEY, d2 INT) ENGINE=TIANMU;
INSERT INTO cs1 VALUES (125, 125);
INSERT INTO cs1 VALUES (-125, -125);
INSERT INTO cs1 VALUES (77, 55);
INSERT INTO cs1 VALUES (33, 66);
INSERT INTO cs1 VALUES (99998, 998);
INSERT INTO cs1 VALUES (99999, 999);
DROP TABLE IF EXISTS cs2;
CREATE TABLE cs2 (d1 INT PRIMARY KEY, d2 INT) ENGINE=TIANMU;
INSERT INTO cs2 VALUES (125, 125);
INSERT INTO cs2 VALUES (-125, -125);
INSERT INTO cs2 VALUES (77, 55);
INSERT INTO cs2 VALUES (33, 66);
INSERT INTO cs2 VALUES (99998, 998);
INSERT INTO cs2 VALUES (99999, 999);
UPDATE cs1 SET d1=999, d2=777 WHERE EXISTS (SELECT 1 from cs2 WHERE d1 NOT IN (33) ) LIMIT 1;
SELECT * FROM cs1;
d1	d2
999	777
-125	-125
77	55
33	66
99998	998
99999	999
DROP TABLE IF EXISTS cs1;
CREATE TABLE cs1 (d1 INT PRIMARY KEY, d2 INT) ENGINE=TIANMU;
INSERT INTO cs1 VALUES (125, 125);
INSERT INTO cs1 VALUES (-125, -125);
INSERT INTO cs1 VALUES (77, 55);
INSERT INTO cs1 VALUES (33, 66);
INSERT INTO cs1 VALUES (99998, 998);
INSERT INTO cs1 VALUES (99999, 999);
DELETE FROM cs1 WHERE d1 IN (77, 999);
SELECT * FROM cs1;
d1	d2
125	125
-125	-125
33	66
99998	998
99999	999
DELETE FROM cs1 WHERE d1 NOT IN (77, 999);
SELECT * FROM cs1;
d1	d2
DROP TABLE IF EXISTS cs1;
CREATE TABLE cs1 (d1 INT PRIMARY KEY, d2 INT) ENGINE=TIANMU;
INSERT INTO cs1 VALUES (125, 125);
INSERT INTO cs1 VALUES (-125, -125);
INSERT INTO cs1 VALUES (77, 55);
INSERT INTO cs1 VALUES (33, 66);
INSERT INTO cs1 VALUES (99998, 998);
INSERT INTO cs1 VALUES (99999, 999);
DELETE FROM cs1 WHERE d1 IN (-125);
SELECT * FROM cs1;
d1	d2
125	125
77	55
33	66
99998	998
99999	999
DELETE FROM cs1 WHERE d1 NOT IN (-125);
SELECT * FROM cs1;
d1	d2
DROP TABLE IF EXISTS cs1;
CREATE TABLE cs1 (d1 INT PRIMARY KEY, d2 INT) ENGINE=TIANMU;
INSERT INTO cs1 VALUES (125, 125);
INSERT INTO cs1 VALUES (-125, -125);
INSERT INTO cs1 VALUES (77, 55);
INSERT INTO cs1 VALUES (33, 66);
INSERT INTO cs1 VALUES (99998, 998);
INSERT INTO cs1 VALUES (99999, 999);
DELETE FROM cs1 WHERE d1 = 33;
SELECT * FROM cs1;
d1	d2
125	125
-125	-125
77	55
99998	998
99999	999
DELETE FROM cs1 WHERE d1 != 33;
SELECT * FROM cs1;
d1	d2
DROP TABLE cs1;
DROP TABLE cs2;
set sql_safe_updates=0;
DROP TABLE IF EXISTS cs1;
DROP TABLE IF EXISTS cs2;
CREATE TABLE cs1 (d1 int, d2 int) ENGINE=TIANMU;
CREATE TABLE cs2 (d1 int, d2 int) ENGINE=TIANMU;
INSERT INTO cs1 VALUES (125, 125);
INSERT INTO cs1 VALUES (-125, -125);
INSERT INTO cs1 VALUES (77, 55);
INSERT INTO cs1 VALUES (33, 66);
INSERT INTO cs1 VALUES (99998, 998);
INSERT INTO cs1 VALUES (99999, 999);
INSERT INTO cs2 VALUES (125, 125);
INSERT INTO cs2 VALUES (-125, -125);
INSERT INTO cs2 VALUES (77, 55);
INSERT INTO cs2 VALUES (33, 66);
INSERT INTO cs2 VALUES (99998, 998);
INSERT INTO cs2 VALUES (99999, 999);
SELECT * FROM cs1;
d1	d2
125	125
-125	-125
77	55
33	66
99998	998
99999	999
UPDATE cs1 SET d1=888, d2=777 WHERE d1 IN (125, 99999);
SELECT * FROM cs1;
d1	d2
888	777
-125	-125
77	55
33	66
99998	998
888	777
UPDATE cs1 SET d1=888, d2=777 WHERE d1 NOT IN (125, 99999);
SELECT * FROM cs1;
d1	d2
888	777
888	777
888	777
888	777
888	777
888	777
DELETE FROM cs1;
INSERT INTO cs1 VALUES (125, 125);
INSERT INTO cs1 VALUES (-125, -125);
INSERT INTO cs1 VALUES (77, 55);
INSERT INTO cs1 VALUES (33, 66);
INSERT INTO cs1 VALUES (99998, 998);
INSERT INTO cs1 VALUES (99999, 999);
UPDATE cs1 SET d1=888, d2=777 WHERE d1 IN (99998);
SELECT * FROM cs1;
d1	d2
125	125
-125	-125
77	55
33	66
888	777
99999	999
UPDATE cs1 SET d1=888, d2=777 WHERE d1 NOT IN (99998);
SELECT * FROM cs1;
d1	d2
888	777
888	777
888	777
888	777
888	777
888	777
DELETE FROM cs1;
INSERT INTO cs1 VALUES (125, 125);
INSERT INTO cs1 VALUES (-125, -125);
INSERT INTO cs1 VALUES (77, 55);
INSERT INTO cs1 VALUES (33, 66);
INSERT INTO cs1 VALUES (99998, 998);
INSERT INTO cs1 VALUES (99999, 999);
UPDATE cs1 SET d1=999, d2=777 WHERE d1 = 99998;
SELECT * FROM cs1;
d1	d2
125	125
-125	-125
77	55
33	66
999	777
99999	999
UPDATE cs1 SET d1=999, d2=777 WHERE d1 != 99998;
SELECT * FROM cs1;
d1	d2
999	777
999	777
999	777
999	777
999	777
999	777
DELETE FROM cs1;
INSERT INTO cs1 VALUES (125, 125);
INSERT INTO cs1 VALUES (-125, -125);
INSERT INTO cs1 VALUES (77, 55);
INSERT INTO cs1 VALUES (33, 66);
INSERT INTO cs1 VALUES (99998, 998);
INSERT INTO cs1 VALUES (99999, 999);
DROP TABLE IF EXISTS cs2;
CREATE TABLE cs2 (d1 INT PRIMARY KEY, d2 INT) ENGINE=TIANMU;
INSERT INTO cs2 VALUES (125, 125);
INSERT INTO cs2 VALUES (-125, -125);
INSERT INTO cs2 VALUES (77, 55);
INSERT INTO cs2 VALUES (33, 66);
INSERT INTO cs2 VALUES (99998, 998);
INSERT INTO cs2 VALUES (99999, 999);
UPDATE cs1 SET d1=999, d2=777 WHERE EXISTS (SELECT 1 from cs2 WHERE d1 IN (33, 77) ) LIMIT 1;
SELECT * FROM cs1;
d1	d2
999	777
-125	-125
77	55
33	66
99998	998
99999	999
DELETE FROM cs1;
INSERT INTO cs1 VALUES (125, 125);
INSERT INTO cs1 VALUES (-125, -125);
INSERT INTO cs1 VALUES (77, 55);
INSERT INTO cs1 VALUES (33, 66);
INSERT INTO cs1 VALUES (99998, 998);
INSERT INTO cs1 VALUES (99999, 999);
DROP TABLE IF EXISTS cs2;
CREATE TABLE cs2 (d1 INT PRIMARY KEY, d2 INT) ENGINE=TIANMU;
INSERT INTO cs2 VALUES (125, 125);
INSERT INTO cs2 VALUES (-125, -125);
INSERT INTO cs2 VALUES (77, 55);
INSERT INTO cs2 VALUES (33, 66);
INSERT INTO cs2 VALUES (99998, 998);
INSERT INTO cs2 VALUES (99999, 999);
UPDATE cs1 SET d1=999, d2=777 WHERE NOT EXISTS (SELECT 1 from cs2 WHERE d1 IN (330, 770) ) LIMIT 1;
SELECT * FROM cs1;
d1	d2
999	777
-125	-125
77	55
33	66
99998	998
99999	999
DELETE FROM cs1;
INSERT INTO cs1 VALUES (125, 125);
INSERT INTO cs1 VALUES (-125, -125);
INSERT INTO cs1 VALUES (77, 55);
INSERT INTO cs1 VALUES (33, 66);
INSERT INTO cs1 VALUES (99998, 998);
INSERT INTO cs1 VALUES (99999, 999);
DROP TABLE IF EXISTS cs2;
CREATE TABLE cs2 (d1 INT PRIMARY KEY, d2 INT) ENGINE=TIANMU;
INSERT INTO cs2 VALUES (125, 125);
INSERT INTO cs2 VALUES (-125, -125);
INSERT INTO cs2 VALUES (77, 55);
INSERT INTO cs2 VALUES (33, 66);
INSERT INTO cs2 VALUES (99998, 998);
INSERT INTO cs2 VALUES (99999, 999);
UPDATE cs1 SET d1=999, d2=777 WHERE EXISTS (SELECT 1 from cs2 WHERE d1 NOT IN (33, 77) ) LIMIT 1;
SELECT * FROM cs1;
d1	d2
999	777
-125	-125
77	55
33	66
99998	998
99999	999
DELETE FROM cs1;
INSERT INTO cs1 VALUES (125, 125);
INSERT INTO cs1 VALUES (-125, -125);
INSERT INTO cs1 VALUES (77, 55);
INSERT INTO cs1 VALUES (33, 66);
INSERT INTO cs1 VALUES (99998, 998);
INSERT INTO cs1 VALUES (99999, 999);
DROP TABLE IF EXISTS cs2;
CREATE TABLE cs2 (d1 INT PRIMARY KEY, d2 INT) ENGINE=TIANMU;
INSERT INTO cs2 VALUES (125, 125);
INSERT INTO cs2 VALUES (-125, -125);
INSERT INTO cs2 VALUES (77, 55);
INSERT INTO cs2 VALUES (33, 66);
INSERT INTO cs2 VALUES (99998, 998);
INSERT INTO cs2 VALUES (99999, 999);
UPDATE cs1 SET d1=999, d2=777 WHERE EXISTS (SELECT 1 from cs2 WHERE d1 IN (33) ) LIMIT 1;
SELECT * FROM cs1;
d1	d2
999	777
-125	-125
77	55
33	66
99998	998
99999	999
DELETE FROM cs1;
INSERT INTO cs1 VALUES (125, 125);
INSERT INTO cs1 VALUES (-125, -125);
INSERT INTO cs1 VALUES (77, 55);
INSERT INTO cs1 VALUES (33, 66);
INSERT INTO cs1 VALUES (99998, 998);
INSERT INTO cs1 VALUES (99999, 999);
DROP TABLE IF EXISTS cs2;
CREATE TABLE cs2 (d1 INT PRIMARY KEY, d2 INT) ENGINE=TIANMU;
INSERT INTO cs2 VALUES (125, 125);
INSERT INTO cs2 VALUES (-125, -125);
INSERT INTO cs2 VALUES (77, 55);
INSERT INTO cs2 VALUES (33, 66);
INSERT INTO cs2 VALUES (99998, 998);
INSERT INTO cs2 VALUES (99999, 999);
UPDATE cs1 SET d1=999, d2=777 WHERE NOT EXISTS (SELECT 1 from cs2 WHERE d1 IN (330) ) LIMIT 1;
SELECT * FROM cs1;
d1	d2
999	777
-125	-125
77	55
33	66
99998	998
99999	999
DELETE FROM cs1;
INSERT INTO cs1 VALUES (125, 125);
INSERT INTO cs1 VALUES (-125, -125);
INSERT INTO cs1 VALUES (77, 55);
INSERT INTO cs1 VALUES (33, 66);
INSERT INTO cs1 VALUES (99998, 998);
INSERT INTO cs1 VALUES (99999, 999);
DROP TABLE IF EXISTS cs2;
CREATE TABLE cs2 (d1 INT PRIMARY KEY, d2 INT) ENGINE=TIANMU;
INSERT INTO cs2 VALUES (125, 125);
INSERT INTO cs2 VALUES (-125, -125);
INSERT INTO cs2 VALUES (77, 55);
INSERT INTO cs2 VALUES (33, 66);
INSERT INTO cs2 VALUES (99998, 998);
INSERT INTO cs2 VALUES (99999, 999);
UPDATE cs1 SET d1=999, d2=777 WHERE EXISTS (SELECT 1 from cs2 WHERE d1 NOT IN (33) ) LIMIT 1;
SELECT * FROM cs1;
d1	d2
999	777
-125	-125
77	55
33	66
99998	998
99999	999
DELETE FROM cs1;
INSERT INTO cs1 VALUES (125, 125);
INSERT INTO cs1 VALUES (-125, -125);
INSERT INTO cs1 VALUES (77, 55);
INSERT INTO cs1 VALUES (33, 66);
INSERT INTO cs1 VALUES (99998, 998);
INSERT INTO cs1 VALUES (99999, 999);
DELETE FROM cs1 WHERE d1 IN (77, 999);
SELECT * FROM cs1;
d1	d2
125	125
-125	-125
33	66
99998	998
99999	999
DELETE FROM cs1 WHERE d1 NOT IN (77, 999);
SELECT * FROM cs1;
d1	d2
DELETE FROM cs1;
INSERT INTO cs1 VALUES (125, 125);
INSERT INTO cs1 VALUES (-125, -125);
INSERT INTO cs1 VALUES (77, 55);
INSERT INTO cs1 VALUES (33, 66);
INSERT INTO cs1 VALUES (99998, 998);
INSERT INTO cs1 VALUES (99999, 999);
DELETE FROM cs1 WHERE d1 IN (-125);
SELECT * FROM cs1;
d1	d2
125	125
77	55
33	66
99998	998
99999	999
DELETE FROM cs1 WHERE d1 NOT IN (-125);
SELECT * FROM cs1;
d1	d2
DELETE FROM cs1;
INSERT INTO cs1 VALUES (125, 125);
INSERT INTO cs1 VALUES (-125, -125);
INSERT INTO cs1 VALUES (77, 55);
INSERT INTO cs1 VALUES (33, 66);
INSERT INTO cs1 VALUES (99998, 998);
INSERT INTO cs1 VALUES (99999, 999);
DELETE FROM cs1 WHERE d1 = 33;
SELECT * FROM cs1;
d1	d2
125	125
-125	-125
77	55
99998	998
99999	999
DELETE FROM cs1 WHERE d1 != 33;
SELECT * FROM cs1;
d1	d2
DROP TABLE cs1;
DROP TABLE cs2;
DROP TABLE IF EXISTS cs1;
DROP TABLE IF EXISTS cs2;
CREATE TABLE cs1 (d1 INT PRIMARY KEY, d2 INT) ENGINE=TIANMU;
CREATE TABLE cs2 (d1 INT PRIMARY KEY, d2 INT) ENGINE=TIANMU;
INSERT INTO cs1 VALUES (125, 125);
INSERT INTO cs1 VALUES (-125, -125);
INSERT INTO cs1 VALUES (77, 55);
INSERT INTO cs1 VALUES (33, 66);
INSERT INTO cs1 VALUES (99998, 998);
INSERT INTO cs1 VALUES (99999, 999);
INSERT INTO cs2 VALUES (125, 125);
INSERT INTO cs2 VALUES (-125, -125);
INSERT INTO cs2 VALUES (77, 55);
INSERT INTO cs2 VALUES (33, 66);
INSERT INTO cs2 VALUES (99998, 998);
INSERT INTO cs2 VALUES (99999, 999);
SELECT * FROM cs1;
d1	d2
125	125
-125	-125
77	55
33	66
99998	998
99999	999
UPDATE cs1 SET d1=888, d2=777 WHERE d1 IN (125, 99999) LIMIT 1;
SELECT * FROM cs1;
d1	d2
888	777
-125	-125
77	55
33	66
99998	998
99999	999
UPDATE cs1 SET d1=888, d2=777 WHERE d1 NOT IN (125, 99999) LIMIT 1;
SELECT * FROM cs1;
d1	d2
888	777
-125	-125
77	55
33	66
99998	998
99999	999
DELETE FROM cs1;
INSERT INTO cs1 VALUES (125, 125);
INSERT INTO cs1 VALUES (-125, -125);
INSERT INTO cs1 VALUES (77, 55);
INSERT INTO cs1 VALUES (33, 66);
INSERT INTO cs1 VALUES (99998, 998);
INSERT INTO cs1 VALUES (99999, 999);
UPDATE cs1 SET d1=888, d2=777 WHERE d1 IN (99998) LIMIT 1;
SELECT * FROM cs1;
d1	d2
125	125
-125	-125
77	55
33	66
888	777
99999	999
UPDATE cs1 SET d1=658, d2=785 WHERE d1 NOT IN (99998) LIMIT 1;
SELECT * FROM cs1;
d1	d2
658	785
-125	-125
77	55
33	66
888	777
99999	999
DELETE FROM cs1;
INSERT INTO cs1 VALUES (125, 125);
INSERT INTO cs1 VALUES (-125, -125);
INSERT INTO cs1 VALUES (77, 55);
INSERT INTO cs1 VALUES (33, 66);
INSERT INTO cs1 VALUES (99998, 998);
INSERT INTO cs1 VALUES (99999, 999);
UPDATE cs1 SET d1=999, d2=777 WHERE d1 = 99998 LIMIT 1;
SELECT * FROM cs1;
d1	d2
125	125
-125	-125
77	55
33	66
999	777
99999	999
UPDATE cs1 SET d1=4587, d2=2456 WHERE d1 != 99998 LIMIT 1;
SELECT * FROM cs1;
d1	d2
4587	2456
-125	-125
77	55
33	66
999	777
99999	999
DELETE FROM cs1;
INSERT INTO cs1 VALUES (125, 125);
INSERT INTO cs1 VALUES (-125, -125);
INSERT INTO cs1 VALUES (77, 55);
INSERT INTO cs1 VALUES (33, 66);
INSERT INTO cs1 VALUES (99998, 998);
INSERT INTO cs1 VALUES (99999, 999);
DROP TABLE IF EXISTS cs2;
CREATE TABLE cs2 (d1 INT PRIMARY KEY, d2 INT) ENGINE=TIANMU;
INSERT INTO cs2 VALUES (125, 125);
INSERT INTO cs2 VALUES (-125, -125);
INSERT INTO cs2 VALUES (77, 55);
INSERT INTO cs2 VALUES (33, 66);
INSERT INTO cs2 VALUES (99998, 998);
INSERT INTO cs2 VALUES (99999, 999);
UPDATE cs1 SET d1=999, d2=777 WHERE EXISTS (SELECT 1 from cs2 WHERE d1 IN (33, 77) ) LIMIT 1;
SELECT * FROM cs1;
d1	d2
999	777
-125	-125
77	55
33	66
99998	998
99999	999
DELETE FROM cs1;
INSERT INTO cs1 VALUES (125, 125);
INSERT INTO cs1 VALUES (-125, -125);
INSERT INTO cs1 VALUES (77, 55);
INSERT INTO cs1 VALUES (33, 66);
INSERT INTO cs1 VALUES (99998, 998);
INSERT INTO cs1 VALUES (99999, 999);
DROP TABLE IF EXISTS cs2;
CREATE TABLE cs2 (d1 INT PRIMARY KEY, d2 INT) ENGINE=TIANMU;
INSERT INTO cs2 VALUES (125, 125);
INSERT INTO cs2 VALUES (-125, -125);
INSERT INTO cs2 VALUES (77, 55);
INSERT INTO cs2 VALUES (33, 66);
INSERT INTO cs2 VALUES (99998, 998);
INSERT INTO cs2 VALUES (99999, 999);
UPDATE cs1 SET d1=999, d2=777 WHERE NOT EXISTS (SELECT 1 from cs2 WHERE d1 IN (330, 770) ) LIMIT 1;
SELECT * FROM cs1;
d1	d2
999	777
-125	-125
77	55
33	66
99998	998
99999	999
DELETE FROM cs1;
INSERT INTO cs1 VALUES (125, 125);
INSERT INTO cs1 VALUES (-125, -125);
INSERT INTO cs1 VALUES (77, 55);
INSERT INTO cs1 VALUES (33, 66);
INSERT INTO cs1 VALUES (99998, 998);
INSERT INTO cs1 VALUES (99999, 999);
DROP TABLE IF EXISTS cs2;
CREATE TABLE cs2 (d1 INT PRIMARY KEY, d2 INT) ENGINE=TIANMU;
INSERT INTO cs2 VALUES (125, 125);
INSERT INTO cs2 VALUES (-125, -125);
INSERT INTO cs2 VALUES (77, 55);
INSERT INTO cs2 VALUES (33, 66);
INSERT INTO cs2 VALUES (99998, 998);
INSERT INTO cs2 VALUES (99999, 999);
UPDATE cs1 SET d1=999, d2=777 WHERE EXISTS (SELECT 1 from cs2 WHERE d1 NOT IN (33, 77) ) LIMIT 1;
SELECT * FROM cs1;
d1	d2
999	777
-125	-125
77	55
33	66
99998	998
99999	999
DELETE FROM cs1;
INSERT INTO cs1 VALUES (125, 125);
INSERT INTO cs1 VALUES (-125, -125);
INSERT INTO cs1 VALUES (77, 55);
INSERT INTO cs1 VALUES (33, 66);
INSERT INTO cs1 VALUES (99998, 998);
INSERT INTO cs1 VALUES (99999, 999);
DROP TABLE IF EXISTS cs2;
CREATE TABLE cs2 (d1 INT PRIMARY KEY, d2 INT) ENGINE=TIANMU;
INSERT INTO cs2 VALUES (125, 125);
INSERT INTO cs2 VALUES (-125, -125);
INSERT INTO cs2 VALUES (77, 55);
INSERT INTO cs2 VALUES (33, 66);
INSERT INTO cs2 VALUES (99998, 998);
INSERT INTO cs2 VALUES (99999, 999);
UPDATE cs1 SET d1=999, d2=777 WHERE EXISTS (SELECT 1 from cs2 WHERE d1 IN (33) ) LIMIT 1;
SELECT * FROM cs1;
d1	d2
999	777
-125	-125
77	55
33	66
99998	998
99999	999
DELETE FROM cs1;
INSERT INTO cs1 VALUES (125, 125);
INSERT INTO cs1 VALUES (-125, -125);
INSERT INTO cs1 VALUES (77, 55);
INSERT INTO cs1 VALUES (33, 66);
INSERT INTO cs1 VALUES (99998, 998);
INSERT INTO cs1 VALUES (99999, 999);
DROP TABLE IF EXISTS cs2;
CREATE TABLE cs2 (d1 INT PRIMARY KEY, d2 INT) ENGINE=TIANMU;
INSERT INTO cs2 VALUES (125, 125);
INSERT INTO cs2 VALUES (-125, -125);
INSERT INTO cs2 VALUES (77, 55);
INSERT INTO cs2 VALUES (33, 66);
INSERT INTO cs2 VALUES (99998, 998);
INSERT INTO cs2 VALUES (99999, 999);
UPDATE cs1 SET d1=999, d2=777 WHERE NOT EXISTS (SELECT 1 from cs2 WHERE d1 IN (330) ) LIMIT 1;
SELECT * FROM cs1;
d1	d2
999	777
-125	-125
77	55
33	66
99998	998
99999	999
DELETE FROM cs1;
INSERT INTO cs1 VALUES (125, 125);
INSERT INTO cs1 VALUES (-125, -125);
INSERT INTO cs1 VALUES (77, 55);
INSERT INTO cs1 VALUES (33, 66);
INSERT INTO cs1 VALUES (99998, 998);
INSERT INTO cs1 VALUES (99999, 999);
DROP TABLE IF EXISTS cs2;
CREATE TABLE cs2 (d1 INT PRIMARY KEY, d2 INT) ENGINE=TIANMU;
INSERT INTO cs2 VALUES (125, 125);
INSERT INTO cs2 VALUES (-125, -125);
INSERT INTO cs2 VALUES (77, 55);
INSERT INTO cs2 VALUES (33, 66);
INSERT INTO cs2 VALUES (99998, 998);
INSERT INTO cs2 VALUES (99999, 999);
UPDATE cs1 SET d1=999, d2=777 WHERE EXISTS (SELECT 1 from cs2 WHERE d1 NOT IN (33) ) LIMIT 1;
SELECT * FROM cs1;
d1	d2
999	777
-125	-125
77	55
33	66
99998	998
99999	999
DELETE FROM cs1;
INSERT INTO cs1 VALUES (125, 125);
INSERT INTO cs1 VALUES (-125, -125);
INSERT INTO cs1 VALUES (77, 55);
INSERT INTO cs1 VALUES (33, 66);
INSERT INTO cs1 VALUES (99998, 998);
INSERT INTO cs1 VALUES (99999, 999);
DELETE FROM cs1 WHERE d1 IN (77, 999) LIMIT 1;
SELECT * FROM cs1;
d1	d2
125	125
-125	-125
33	66
99998	998
99999	999
DELETE FROM cs1 WHERE d1 NOT IN (77, 999) LIMIT 1;
SELECT * FROM cs1;
d1	d2
-125	-125
33	66
99998	998
99999	999
DELETE FROM cs1;
INSERT INTO cs1 VALUES (125, 125);
INSERT INTO cs1 VALUES (-125, -125);
INSERT INTO cs1 VALUES (77, 55);
INSERT INTO cs1 VALUES (33, 66);
INSERT INTO cs1 VALUES (99998, 998);
INSERT INTO cs1 VALUES (99999, 999);
DELETE FROM cs1 WHERE d1 IN (-125) LIMIT 1;
SELECT * FROM cs1;
d1	d2
125	125
77	55
33	66
99998	998
99999	999
DELETE FROM cs1 WHERE d1 NOT IN (-125) LIMIT 1;
SELECT * FROM cs1;
d1	d2
77	55
33	66
99998	998
99999	999
DELETE FROM cs1;
INSERT INTO cs1 VALUES (125, 125);
INSERT INTO cs1 VALUES (-125, -125);
INSERT INTO cs1 VALUES (77, 55);
INSERT INTO cs1 VALUES (33, 66);
INSERT INTO cs1 VALUES (99998, 998);
INSERT INTO cs1 VALUES (99999, 999);
DELETE FROM cs1 WHERE d1 = 33;
SELECT * FROM cs1;
d1	d2
125	125
-125	-125
77	55
99998	998
99999	999
DELETE FROM cs1 WHERE d1 != 33;
SELECT * FROM cs1;
d1	d2
DROP TABLE cs1;
DROP TABLE cs2;
set sql_safe_updates=0;
DROP TABLE IF EXISTS cs1;
DROP TABLE IF EXISTS cs2;
CREATE TABLE cs1 (d1 INT PRIMARY KEY, d2 INT) ENGINE=TIANMU;
CREATE TABLE cs2 (d1 INT PRIMARY KEY, d2 INT) ENGINE=TIANMU;
INSERT INTO cs1 VALUES (125, 125);
INSERT INTO cs1 VALUES (-125, -125);
INSERT INTO cs1 VALUES (77, 55);
INSERT INTO cs1 VALUES (33, 66);
INSERT INTO cs1 VALUES (99998, 998);
INSERT INTO cs1 VALUES (99999, 999);
INSERT INTO cs2 VALUES (125, 125);
INSERT INTO cs2 VALUES (-125, -125);
INSERT INTO cs2 VALUES (77, 55);
INSERT INTO cs2 VALUES (33, 66);
INSERT INTO cs2 VALUES (99998, 998);
INSERT INTO cs2 VALUES (99999, 999);
SELECT * FROM cs1;
d1	d2
125	125
-125	-125
77	55
33	66
99998	998
99999	999
UPDATE cs1 SET d1=888, d2=777 WHERE d1 IN (125, 99999) LIMIT 1;
SELECT * FROM cs1;
d1	d2
888	777
-125	-125
77	55
33	66
99998	998
99999	999
UPDATE cs1 SET d1=888, d2=777 WHERE d1 NOT IN (125, 99999) LIMIT 1;
SELECT * FROM cs1;
d1	d2
888	777
-125	-125
77	55
33	66
99998	998
99999	999
DELETE FROM cs1;
INSERT INTO cs1 VALUES (125, 125);
INSERT INTO cs1 VALUES (-125, -125);
INSERT INTO cs1 VALUES (77, 55);
INSERT INTO cs1 VALUES (33, 66);
INSERT INTO cs1 VALUES (99998, 998);
INSERT INTO cs1 VALUES (99999, 999);
UPDATE cs1 SET d1=888, d2=777 WHERE d1 IN (99998) LIMIT 1;
SELECT * FROM cs1;
d1	d2
125	125
-125	-125
77	55
33	66
888	777
99999	999
UPDATE cs1 SET d1=658, d2=785 WHERE d1 NOT IN (99998) LIMIT 1;
SELECT * FROM cs1;
d1	d2
658	785
-125	-125
77	55
33	66
888	777
99999	999
DELETE FROM cs1;
INSERT INTO cs1 VALUES (125, 125);
INSERT INTO cs1 VALUES (-125, -125);
INSERT INTO cs1 VALUES (77, 55);
INSERT INTO cs1 VALUES (33, 66);
INSERT INTO cs1 VALUES (99998, 998);
INSERT INTO cs1 VALUES (99999, 999);
UPDATE cs1 SET d1=999, d2=777 WHERE d1 = 99998 LIMIT 1;
SELECT * FROM cs1;
d1	d2
125	125
-125	-125
77	55
33	66
999	777
99999	999
UPDATE cs1 SET d1=4587, d2=2456 WHERE d1 != 99998 LIMIT 1;
SELECT * FROM cs1;
d1	d2
4587	2456
-125	-125
77	55
33	66
999	777
99999	999
DELETE FROM cs1;
INSERT INTO cs1 VALUES (125, 125);
INSERT INTO cs1 VALUES (-125, -125);
INSERT INTO cs1 VALUES (77, 55);
INSERT INTO cs1 VALUES (33, 66);
INSERT INTO cs1 VALUES (99998, 998);
INSERT INTO cs1 VALUES (99999, 999);
DELETE FROM cs2;
INSERT INTO cs2 VALUES (125, 125);
INSERT INTO cs2 VALUES (-125, -125);
INSERT INTO cs2 VALUES (77, 55);
INSERT INTO cs2 VALUES (33, 66);
INSERT INTO cs2 VALUES (99998, 998);
INSERT INTO cs2 VALUES (99999, 999);
UPDATE cs1 SET d1=999, d2=777 WHERE EXISTS (SELECT 1 from cs2 WHERE d1 IN (33, 77) ) LIMIT 1;
SELECT * FROM cs1;
d1	d2
999	777
-125	-125
77	55
33	66
99998	998
99999	999
DELETE FROM cs1;
INSERT INTO cs1 VALUES (125, 125);
INSERT INTO cs1 VALUES (-125, -125);
INSERT INTO cs1 VALUES (77, 55);
INSERT INTO cs1 VALUES (33, 66);
INSERT INTO cs1 VALUES (99998, 998);
INSERT INTO cs1 VALUES (99999, 999);
DELETE FROM cs2;
INSERT INTO cs2 VALUES (125, 125);
INSERT INTO cs2 VALUES (-125, -125);
INSERT INTO cs2 VALUES (77, 55);
INSERT INTO cs2 VALUES (33, 66);
INSERT INTO cs2 VALUES (99998, 998);
INSERT INTO cs2 VALUES (99999, 999);
UPDATE cs1 SET d1=999, d2=777 WHERE NOT EXISTS (SELECT 1 from cs2 WHERE d1 IN (330, 770) ) LIMIT 1;
SELECT * FROM cs1;
d1	d2
999	777
-125	-125
77	55
33	66
99998	998
99999	999
DELETE FROM cs1;
INSERT INTO cs1 VALUES (125, 125);
INSERT INTO cs1 VALUES (-125, -125);
INSERT INTO cs1 VALUES (77, 55);
INSERT INTO cs1 VALUES (33, 66);
INSERT INTO cs1 VALUES (99998, 998);
INSERT INTO cs1 VALUES (99999, 999);
DELETE FROM cs2;
INSERT INTO cs2 VALUES (125, 125);
INSERT INTO cs2 VALUES (-125, -125);
INSERT INTO cs2 VALUES (77, 55);
INSERT INTO cs2 VALUES (33, 66);
INSERT INTO cs2 VALUES (99998, 998);
INSERT INTO cs2 VALUES (99999, 999);
UPDATE cs1 SET d1=999, d2=777 WHERE EXISTS (SELECT 1 from cs2 WHERE d1 NOT IN (33, 77) ) LIMIT 1;
SELECT * FROM cs1;
d1	d2
999	777
-125	-125
77	55
33	66
99998	998
99999	999
DELETE FROM cs1;
INSERT INTO cs1 VALUES (125, 125);
INSERT INTO cs1 VALUES (-125, -125);
INSERT INTO cs1 VALUES (77, 55);
INSERT INTO cs1 VALUES (33, 66);
INSERT INTO cs1 VALUES (99998, 998);
INSERT INTO cs1 VALUES (99999, 999);
DELETE FROM cs2;
INSERT INTO cs2 VALUES (125, 125);
INSERT INTO cs2 VALUES (-125, -125);
INSERT INTO cs2 VALUES (77, 55);
INSERT INTO cs2 VALUES (33, 66);
INSERT INTO cs2 VALUES (99998, 998);
INSERT INTO cs2 VALUES (99999, 999);
UPDATE cs1 SET d1=999, d2=777 WHERE EXISTS (SELECT 1 from cs2 WHERE d1 IN (33) ) LIMIT 1;
SELECT * FROM cs1;
d1	d2
999	777
-125	-125
77	55
33	66
99998	998
99999	999
DELETE FROM cs1;
INSERT INTO cs1 VALUES (125, 125);
INSERT INTO cs1 VALUES (-125, -125);
INSERT INTO cs1 VALUES (77, 55);
INSERT INTO cs1 VALUES (33, 66);
INSERT INTO cs1 VALUES (99998, 998);
INSERT INTO cs1 VALUES (99999, 999);
DELETE FROM cs2;
INSERT INTO cs2 VALUES (125, 125);
INSERT INTO cs2 VALUES (-125, -125);
INSERT INTO cs2 VALUES (77, 55);
INSERT INTO cs2 VALUES (33, 66);
INSERT INTO cs2 VALUES (99998, 998);
INSERT INTO cs2 VALUES (99999, 999);
UPDATE cs1 SET d1=999, d2=777 WHERE NOT EXISTS (SELECT 1 from cs2 WHERE d1 IN (330) ) LIMIT 1;
SELECT * FROM cs1;
d1	d2
999	777
-125	-125
77	55
33	66
99998	998
99999	999
DELETE FROM cs1;
INSERT INTO cs1 VALUES (125, 125);
INSERT INTO cs1 VALUES (-125, -125);
INSERT INTO cs1 VALUES (77, 55);
INSERT INTO cs1 VALUES (33, 66);
INSERT INTO cs1 VALUES (99998, 998);
INSERT INTO cs1 VALUES (99999, 999);
DELETE FROM cs2;
INSERT INTO cs2 VALUES (125, 125);
INSERT INTO cs2 VALUES (-125, -125);
INSERT INTO cs2 VALUES (77, 55);
INSERT INTO cs2 VALUES (33, 66);
INSERT INTO cs2 VALUES (99998, 998);
INSERT INTO cs2 VALUES (99999, 999);
UPDATE cs1 SET d1=999, d2=777 WHERE EXISTS (SELECT 1 from cs2 WHERE d1 NOT IN (33) ) LIMIT 1;
SELECT * FROM cs1;
d1	d2
999	777
-125	-125
77	55
33	66
99998	998
99999	999
DELETE FROM cs1;
INSERT INTO cs1 VALUES (125, 125);
INSERT INTO cs1 VALUES (-125, -125);
INSERT INTO cs1 VALUES (77, 55);
INSERT INTO cs1 VALUES (33, 66);
INSERT INTO cs1 VALUES (99998, 998);
INSERT INTO cs1 VALUES (99999, 999);
DELETE FROM cs1 WHERE d1 IN (77, 999) LIMIT 1;
SELECT * FROM cs1;
d1	d2
125	125
-125	-125
33	66
99998	998
99999	999
DELETE FROM cs1 WHERE d1 NOT IN (77, 999) LIMIT 1;
SELECT * FROM cs1;
d1	d2
-125	-125
33	66
99998	998
99999	999
DELETE FROM cs1;
INSERT INTO cs1 VALUES (125, 125);
INSERT INTO cs1 VALUES (-125, -125);
INSERT INTO cs1 VALUES (77, 55);
INSERT INTO cs1 VALUES (33, 66);
INSERT INTO cs1 VALUES (99998, 998);
INSERT INTO cs1 VALUES (99999, 999);
DELETE FROM cs1 WHERE d1 IN (-125) LIMIT 1;
SELECT * FROM cs1;
d1	d2
125	125
77	55
33	66
99998	998
99999	999
DELETE FROM cs1 WHERE d1 NOT IN (-125) LIMIT 1;
SELECT * FROM cs1;
d1	d2
77	55
33	66
99998	998
99999	999
DELETE FROM cs1;
INSERT INTO cs1 VALUES (125, 125);
INSERT INTO cs1 VALUES (-125, -125);
INSERT INTO cs1 VALUES (77, 55);
INSERT INTO cs1 VALUES (33, 66);
INSERT INTO cs1 VALUES (99998, 998);
INSERT INTO cs1 VALUES (99999, 999);
DELETE FROM cs1 WHERE d1 = 33;
SELECT * FROM cs1;
d1	d2
125	125
-125	-125
77	55
99998	998
99999	999
DELETE FROM cs1 WHERE d1 != 33;
SELECT * FROM cs1;
d1	d2
DROP TABLE cs1;
DROP TABLE cs2;
CREATE TABLE cs1 (c1 JSON, c2 INT) ENGINE=TIANMU;
ERROR HY000: Unsupported data type[json]
DROP DATABASE issue781_test;
